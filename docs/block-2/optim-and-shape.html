<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 23 Optimization | MOSAIC-Calculus.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.24.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 23 Optimization | MOSAIC-Calculus.knit" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 23 Optimization | MOSAIC-Calculus.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="prod-comp-rules.html"/>
<link rel="next" href="partial-change.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<span class="math inline">
\(\newcommand{\line}{\text{line}}
\newcommand{\hump}{\text{hump}}
\newcommand{\sigmoid}{\text{sigmoid}}
\newcommand{\recip}{\text{recip}}
\newcommand{\diff}[1]{{\cal D}_#1}
\newcommand{\pnorm}{\text{pnorm}}
\newcommand{\dnorm}{\text{dnorm}}
\newcommand{\CC}[1]{\color{#648fff}{#1}}
\newcommand{\CE}[1]{\color{#785ef0}{#1}}
\newcommand{\CA}[1]{\color{#dc267f}{#1}}
\newcommand{\CB}[1]{\color{#fe6100}{#1}}
\newcommand{\CD}[1]{\color{#ffb000}{#1}}\)
</span>






<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="mosaic-calc-style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><span style="font-size: 150%;><strong><a href="">MOSAIC Calculus</a></strong></span></li>
<li><em><a>Calculus for the 21st century</a></em></li>
<li><a>Daniel Kaplan</a></li>
<hr>
<li><a href="../index.html">Welcome to calculus</li>
<li><a href="../block-1/change.html">Block 1: Functions & quantities</a></li>
<li><strong><a href="../block-2/change-relationships.html">Block 2: Differentiation</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="prolog-differentiation-and-birth.html"><a href="prolog-differentiation-and-birth.html"><i class="fa fa-check"></i>Prolog: Differentiation and birth</a></li>
<li class="chapter" data-level="17" data-path="change-relationships.html"><a href="change-relationships.html"><i class="fa fa-check"></i><b>17</b> Change relationships</a>
<ul>
<li class="chapter" data-level="17.1" data-path="change-relationships.html"><a href="change-relationships.html#mathematics-in-motion"><i class="fa fa-check"></i><b>17.1</b> Mathematics in motion</a></li>
<li class="chapter" data-level="17.2" data-path="change-relationships.html"><a href="change-relationships.html#continuous-time"><i class="fa fa-check"></i><b>17.2</b> Continuous time</a></li>
<li class="chapter" data-level="17.3" data-path="change-relationships.html"><a href="change-relationships.html#instantaneous-rate-of-change"><i class="fa fa-check"></i><b>17.3</b> Instantaneous rate of change</a></li>
<li class="chapter" data-level="17.4" data-path="change-relationships.html"><a href="change-relationships.html#slopes-and-motion"><i class="fa fa-check"></i><b>17.4</b> Slopes and motion</a></li>
<li class="chapter" data-level="17.5" data-path="change-relationships.html"><a href="change-relationships.html#acceleration"><i class="fa fa-check"></i><b>17.5</b> Acceleration</a></li>
<li class="chapter" data-level="17.6" data-path="change-relationships.html"><a href="change-relationships.html#notations-for-differentiation"><i class="fa fa-check"></i><b>17.6</b> Notations for differentiation</a></li>
<li class="chapter" data-level="17.7" data-path="change-relationships.html"><a href="change-relationships.html#slope-fun-visualization"><i class="fa fa-check"></i><b>17.7</b> Visualizing the slope function</a></li>
<li class="chapter" data-level="17.8" data-path="change-relationships.html"><a href="change-relationships.html#dimension-of-derivatives"><i class="fa fa-check"></i><b>17.8</b> Dimension of derivatives</a></li>
<li class="chapter" data-level="17.9" data-path="change-relationships.html"><a href="change-relationships.html#exercises"><i class="fa fa-check"></i><b>17.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="evanescent-h.html"><a href="evanescent-h.html"><i class="fa fa-check"></i><b>18</b> Evanescent h</a></li>
<li class="chapter" data-level="19" data-path="computing-derivs.html"><a href="computing-derivs.html"><i class="fa fa-check"></i><b>19</b> Computing derivatives</a>
<ul>
<li class="chapter" data-level="19.1" data-path="computing-derivs.html"><a href="computing-derivs.html#a-function-from-a-function"><i class="fa fa-check"></i><b>19.1</b> A function from a function</a></li>
<li class="chapter" data-level="19.2" data-path="computing-derivs.html"><a href="computing-derivs.html#finite-differencing"><i class="fa fa-check"></i><b>19.2</b> Finite differencing</a></li>
<li class="chapter" data-level="19.3" data-path="computing-derivs.html"><a href="computing-derivs.html#the-slope-function-operator"><i class="fa fa-check"></i><b>19.3</b> The slope-function operator</a></li>
<li class="chapter" data-level="19.4" data-path="computing-derivs.html"><a href="computing-derivs.html#symbolic-differentiation"><i class="fa fa-check"></i><b>19.4</b> Symbolic differentiation</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="computing-derivs.html"><a href="computing-derivs.html#the-line-rule"><i class="fa fa-check"></i><b>19.4.1</b> The line rule</a></li>
<li class="chapter" data-level="19.4.2" data-path="computing-derivs.html"><a href="computing-derivs.html#the-square-rule"><i class="fa fa-check"></i><b>19.4.2</b> The square rule</a></li>
<li class="chapter" data-level="19.4.3" data-path="computing-derivs.html"><a href="computing-derivs.html#the-exponential-rule"><i class="fa fa-check"></i><b>19.4.3</b> The exponential rule</a></li>
<li class="chapter" data-level="19.4.4" data-path="computing-derivs.html"><a href="computing-derivs.html#the-reciprocal-rule"><i class="fa fa-check"></i><b>19.4.4</b> The reciprocal rule</a></li>
<li class="chapter" data-level="19.4.5" data-path="computing-derivs.html"><a href="computing-derivs.html#power-law-rule"><i class="fa fa-check"></i><b>19.4.5</b> Power-law rule</a></li>
<li class="chapter" data-level="19.4.6" data-path="computing-derivs.html"><a href="computing-derivs.html#pattern-book-derivs"><i class="fa fa-check"></i><b>19.4.6</b> List of pattern-book rules</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="computing-derivs.html"><a href="computing-derivs.html#exercises-1"><i class="fa fa-check"></i><b>19.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="concavity-curvature.html"><a href="concavity-curvature.html"><i class="fa fa-check"></i><b>20</b> Concavity and curvature</a>
<ul>
<li class="chapter" data-level="20.1" data-path="concavity-curvature.html"><a href="concavity-curvature.html#quantifing-concavity-and-curvature"><i class="fa fa-check"></i><b>20.1</b> Quantifing concavity and curvature</a></li>
<li class="chapter" data-level="20.2" data-path="concavity-curvature.html"><a href="concavity-curvature.html#concavity-deriv"><i class="fa fa-check"></i><b>20.2</b> Concavity</a></li>
<li class="chapter" data-level="20.3" data-path="concavity-curvature.html"><a href="concavity-curvature.html#curvature-definition"><i class="fa fa-check"></i><b>20.3</b> Curvature</a></li>
<li class="chapter" data-level="20.4" data-path="concavity-curvature.html"><a href="concavity-curvature.html#exercises-2"><i class="fa fa-check"></i><b>20.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="cont-and-smooth.html"><a href="cont-and-smooth.html"><i class="fa fa-check"></i><b>21</b> Continuity and smoothness</a>
<ul>
<li class="chapter" data-level="21.1" data-path="cont-and-smooth.html"><a href="cont-and-smooth.html#continuity"><i class="fa fa-check"></i><b>21.1</b> Continuity</a></li>
<li class="chapter" data-level="21.2" data-path="cont-and-smooth.html"><a href="cont-and-smooth.html#discontinuity"><i class="fa fa-check"></i><b>21.2</b> Discontinuity</a></li>
<li class="chapter" data-level="21.3" data-path="cont-and-smooth.html"><a href="cont-and-smooth.html#smoothness"><i class="fa fa-check"></i><b>21.3</b> Smoothness</a></li>
<li class="chapter" data-level="21.4" data-path="cont-and-smooth.html"><a href="cont-and-smooth.html#exercises-3"><i class="fa fa-check"></i><b>21.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html"><i class="fa fa-check"></i><b>22</b> Derivatives of assembled functions</a>
<ul>
<li class="chapter" data-level="22.1" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html#using-the-rules"><i class="fa fa-check"></i><b>22.1</b> Using the rules</a></li>
<li class="chapter" data-level="22.2" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html#differentiating-linear-combinations"><i class="fa fa-check"></i><b>22.2</b> Differentiating linear combinations</a></li>
<li class="chapter" data-level="22.3" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html#product-rule-for-multiplied-functions"><i class="fa fa-check"></i><b>22.3</b> Product rule for multiplied functions</a></li>
<li class="chapter" data-level="22.4" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html#chain-rule-for-function-composition"><i class="fa fa-check"></i><b>22.4</b> Chain rule for function composition</a></li>
<li class="chapter" data-level="22.5" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html#basic-derivs"><i class="fa fa-check"></i><b>22.5</b> Derivatives of the basic modeling functions</a></li>
<li class="chapter" data-level="22.6" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html#exponentials-and-logarithms-optional"><i class="fa fa-check"></i><b>22.6</b> Exponentials and logarithms (optional)</a></li>
<li class="chapter" data-level="22.7" data-path="prod-comp-rules.html"><a href="prod-comp-rules.html#exercises-4"><i class="fa fa-check"></i><b>22.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="optim-and-shape.html"><a href="optim-and-shape.html"><i class="fa fa-check"></i><b>23</b> Optimization</a>
<ul>
<li class="chapter" data-level="23.1" data-path="optim-and-shape.html"><a href="optim-and-shape.html#structure-of-the-problem"><i class="fa fa-check"></i><b>23.1</b> Structure of the problem</a></li>
<li class="chapter" data-level="23.2" data-path="optim-and-shape.html"><a href="optim-and-shape.html#interpreting-the-argmax"><i class="fa fa-check"></i><b>23.2</b> Interpreting the argmax</a></li>
<li class="chapter" data-level="23.3" data-path="optim-and-shape.html"><a href="optim-and-shape.html#derivatives-and-optimization"><i class="fa fa-check"></i><b>23.3</b> Derivatives and optimization</a></li>
<li class="chapter" data-level="23.4" data-path="optim-and-shape.html"><a href="optim-and-shape.html#flat-on-top"><i class="fa fa-check"></i><b>23.4</b> Be practical!</a></li>
<li class="chapter" data-level="23.5" data-path="optim-and-shape.html"><a href="optim-and-shape.html#exercises-5"><i class="fa fa-check"></i><b>23.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="partial-change.html"><a href="partial-change.html"><i class="fa fa-check"></i><b>24</b> Partial change</a>
<ul>
<li class="chapter" data-level="24.1" data-path="partial-change.html"><a href="partial-change.html#calculus-on-two-inputs"><i class="fa fa-check"></i><b>24.1</b> Calculus on two inputs</a></li>
<li class="chapter" data-level="24.2" data-path="partial-change.html"><a href="partial-change.html#all-other-things-being-equal"><i class="fa fa-check"></i><b>24.2</b> All other things being equal …</a></li>
<li class="chapter" data-level="24.3" data-path="partial-change.html"><a href="partial-change.html#gradient-vector"><i class="fa fa-check"></i><b>24.3</b> Gradient vector</a></li>
<li class="chapter" data-level="24.4" data-path="partial-change.html"><a href="partial-change.html#total-derivative-optional"><i class="fa fa-check"></i><b>24.4</b> Total derivative (optional)</a></li>
<li class="chapter" data-level="24.5" data-path="partial-change.html"><a href="partial-change.html#differential-skier"><i class="fa fa-check"></i><b>24.5</b> Differentials</a></li>
<li class="chapter" data-level="24.6" data-path="partial-change.html"><a href="partial-change.html#exercises-6"><i class="fa fa-check"></i><b>24.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="local-approximations.html"><a href="local-approximations.html"><i class="fa fa-check"></i><b>25</b> Local approximations</a>
<ul>
<li class="chapter" data-level="25.1" data-path="local-approximations.html"><a href="local-approximations.html#eight-simple-shapes"><i class="fa fa-check"></i><b>25.1</b> Eight simple shapes</a></li>
<li class="chapter" data-level="25.2" data-path="local-approximations.html"><a href="local-approximations.html#low-order-polynomials"><i class="fa fa-check"></i><b>25.2</b> Low-order polynomials</a></li>
<li class="chapter" data-level="25.3" data-path="local-approximations.html"><a href="local-approximations.html#low-order-two"><i class="fa fa-check"></i><b>25.3</b> The low-order polynomial with two inputs</a></li>
<li class="chapter" data-level="25.4" data-path="local-approximations.html"><a href="local-approximations.html#partial-thought"><i class="fa fa-check"></i><b>25.4</b> Thinking partially</a></li>
<li class="chapter" data-level="25.5" data-path="local-approximations.html"><a href="local-approximations.html#finding-coefficients-from-data"><i class="fa fa-check"></i><b>25.5</b> Finding coefficients from data</a></li>
<li class="chapter" data-level="25.6" data-path="local-approximations.html"><a href="local-approximations.html#exercises-7"><i class="fa fa-check"></i><b>25.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="polynomials.html"><a href="polynomials.html"><i class="fa fa-check"></i><b>26</b> Polynomials</a>
<ul>
<li class="chapter" data-level="26.1" data-path="polynomials.html"><a href="polynomials.html#polynomial-basics"><i class="fa fa-check"></i><b>26.1</b> Basics of polynomials with one input</a></li>
<li class="chapter" data-level="26.2" data-path="polynomials.html"><a href="polynomials.html#multiple-inputs"><i class="fa fa-check"></i><b>26.2</b> Multiple inputs?</a></li>
<li class="chapter" data-level="26.3" data-path="polynomials.html"><a href="polynomials.html#high-order-approx"><i class="fa fa-check"></i><b>26.3</b> High-order approximations</a></li>
<li class="chapter" data-level="26.4" data-path="polynomials.html"><a href="polynomials.html#indeterminate-forms"><i class="fa fa-check"></i><b>26.4</b> Indeterminate forms</a></li>
<li class="chapter" data-level="26.5" data-path="polynomials.html"><a href="polynomials.html#computing-with-indeterminate-forms"><i class="fa fa-check"></i><b>26.5</b> Computing with indeterminate forms</a></li>
<li class="chapter" data-level="26.6" data-path="polynomials.html"><a href="polynomials.html#exercises-8"><i class="fa fa-check"></i><b>26.6</b> Exercises</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="../block-3/change-accumulation.html">Block 3: Accumulation</a></li>
<li><a href="../block-4/introduction.html">Block 4: Manifestations</a></li>
<li><a href="../block-5/linear-forms.html">Block 5: Linear combinations</a></li>
<li><a href="../block-6/dynamics.html">Block 6: Dynamics</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="optim-and-shape" class="section level1" number="7">
<h1><span class="header-section-number">Chapter 23</span> Optimization</h1>
<p>To “optimize” means to make something as good as possible with the available resources. Optimization problems are common in science, logistics, industry, and any other area where one seeks the best solution to a problem. Some everyday examples: <span style="float: right; padding-left: 50px;"><a name="2440" href="#2440"><img src="www/icons8-signpost.png" title="Location: 2440" width="12px"/></a><span style="color: red; font-size: 6pt;">2440</red></span></p>
<ul>
<li>When to harvest trees being grown for lumber. Harvest too soon and you might be losing out on the prime growing years. Wait too long and trees will have settled in to slow growth, if any.</li>
<li>Walking up too steep a slope is tiring and slows you down; that’s why hiking trails have switchbacks. When the switchbacks are too shallow, it takes a long time to cover the distance. What’s the most efficient angle to enable hikers to get up the hill in the shortest time.</li>
<li>How much salt to add to a stew. Stews can be too salty, or they can be not salty enough. Somewhere in the middle is the optimum.<span style="float: right; padding-left: 50px;"><a name="2445" href="#2445"><img src="www/icons8-signpost.png" title="Location: 2445" width="12px"/></a><span style="color: red; font-size: 6pt;">2445</red></span></li>
</ul>
<div id="structure-of-the-problem" class="section level2" number="7.1">
<h2><span class="header-section-number">23.1</span> Structure of the problem</h2>
<p>In an optimization problem, there is one or more input quantities whose value you have to choose. The amount of salt; the years to wait from planting to harvesting a tree; the angle of the trail with respect to the slope. We’ll call this the <strong><em>decision quantity</em></strong>. <span style="float: right; padding-left: 50px;"><a name="2450" href="#2450"><img src="www/icons8-signpost.png" title="Location: 2450" width="12px"/></a><span style="color: red; font-size: 6pt;">2450</red></span></p>
<p>Similarly, there is one or more output quantity that you value and want to make as good as possible. The taste of the stew; the amount of usable wood harvested; the time it takes to walk up the hill. The output quantities are called the <strong><em>objectives</em></strong>. <span style="float: right; padding-left: 50px;"><a name="2455" href="#2455"><img src="www/icons8-signpost.png" title="Location: 2455" width="12px"/></a><span style="color: red; font-size: 6pt;">2455</red></span></p>
<p>In this chapter, we will deal with optimization problems that involve only a single objective. Problems with multiple objectives are among the most interesting and important in real-world decision making. Single-objective optimization techniques are a component of the more complex decision making, but they are a good place to get started.</p>
<p>The model that relates inputs to the objective output is called the <strong><em>objective function</em></strong>. Solving an optimization problem—once the modeling phase is complete—amounts to finding a value for the decision quantity (the input to the objective function) that produces the best output from the objective function. <span style="float: right; padding-left: 50px;"><a name="2460" href="#2460"><img src="www/icons8-signpost.png" title="Location: 2460" width="12px"/></a><span style="color: red; font-size: 6pt;">2460</red></span></p>
<p>Sometimes the objective is something that you want to <strong><em>minimize</em></strong>, make as small as possible. In the hiking trail problem, we seek to minimize the amount of time it takes to walk up the trail. Sometimes you want to <strong><em>maximize</em></strong> the objective, as in the wood-harvest problem where the objective is to harvest the most wood per year. <span style="float: right; padding-left: 50px;"><a name="2465" href="#2465"><img src="www/icons8-signpost.png" title="Location: 2465" width="12px"/></a><span style="color: red; font-size: 6pt;">2465</red></span></p>
<p>Mathematically, maximization and minimization are the same thing. Every minimization problem can be turned into a maximization problem by putting a negative sign in front of the objective function. To simplify the discussion, in talking about finding the solution to an optimization problem we’ll imagine that the goal is to maximize. But keep in mind that many circumstances in the real world, “best” can mean minimization. <span style="float: right; padding-left: 50px;"><a name="2470" href="#2470"><img src="www/icons8-signpost.png" title="Location: 2470" width="12px"/></a><span style="color: red; font-size: 6pt;">2470</red></span></p>
<p>Recall from Section <a href="#local-extremes"><strong>??</strong></a> that there are two components to the task of maximization or minimization. The <strong><em>argmax</em></strong> is the <strong>input</strong> to the objective function which produces the largest output. The <strong><em>maximum</em></strong> is the value of that output.<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a> <strong><em>Argmin</em></strong> and <strong><em>minimum</em></strong> are the words used in a situation where you seek the smallest value of the objective function.<span style="float: right; padding-left: 50px;"><a name="2475" href="#2475"><img src="www/icons8-signpost.png" title="Location: 2475" width="12px"/></a><span style="color: red; font-size: 6pt;">2475</red></span></p>
<p>Once you have found the argmax you can plug that value into the objective function to find the value of the output. That value is the <strong><em>maximum</em></strong>.</p>
<div class="takenote">
<p>People often talk about “finding the maximum.” This is misleading. The setup for an optimization problem is:</p>
<ol style="list-style-type: decimal">
<li>Construct (that is, model) the objective function.</li>
<li>Now that you know the objective function, find the input to that function—that is, the <strong>argmax</strong>—that produces the maximum output.</li>
</ol>
</div>
<p>To illustrate the setup of an optimization problem, imagine yourself in the situation of a contest to see who can shoot a tennis ball the farthest into a field with a slingshot. During the contest, you will adjust the vertical angle of launch, place the ball into the slingshot’s cradle, pull back as far as possible, and let go. To win the contest, you need to optimize how you launch the ball. <span style="float: right; padding-left: 50px;"><a name="2480" href="#2480"><img src="www/icons8-signpost.png" title="Location: 2480" width="12px"/></a><span style="color: red; font-size: 6pt;">2480</red></span></p>
<p>The objective is to maximize the distance traveled by the ball. The <strong><em>objective function</em></strong> models the distance travelled as a function of the quantities you can control, for instance the vertical angle of launch or the amount by which you pull back the slingshot. For simplicity, we’ll imagine that the slingshot is pulled back by a standard amount, producing a velocity of the ball at release of <span class="math inline">\(v_0\)</span>. Since <span class="math inline">\(v_0\)</span> is fixed, you’ll win or lose based on the angle of launch you choose. <span style="float: right; padding-left: 50px;"><a name="2485" href="#2485"><img src="www/icons8-signpost.png" title="Location: 2485" width="12px"/></a><span style="color: red; font-size: 6pt;">2485</red></span></p>
<p>Before you head out into the field to experiment, let’s do a bit of preparation for constructing the objective function. Using some principles of physics and mathematics (which you may not yet understand), we’ll model how far the ball will travel (horizontally) as a function of the angle of launch <span class="math inline">\(\theta\)</span> and the initial velocity <span class="math inline">\(v_0\)</span>. <span style="float: right; padding-left: 50px;"><a name="2490" href="#2490"><img src="www/icons8-signpost.png" title="Location: 2490" width="12px"/></a><span style="color: red; font-size: 6pt;">2490</red></span></p>
<p>The mathematics of such problems involves an area called <strong><em>differential equations</em></strong>, an important part of calculus which we’ll come to later in the course. Since you don’t have the tools yet, we’ll just state a simple model of how long the ball stays in the air.
<span class="math display">\[\text{duration}(v_0, \theta) = 2 v_0 \sin(\theta)/g\]</span> <span class="math inline">\(g\)</span> is the acceleration due to gravity, which is about <span class="math inline">\(9.8 \text{m}\text{s}^{-2}\)</span>, assuming that the contest is being held on Earth.</p>
<p>The horizontal distance travelled by the tennis ball will be <span class="math display">\[\text{hdist}(v_0, \theta) = \cos(\theta) v_0\, \text{duration}(v_0, \theta) = 2 v_0^2 \cos(\theta)\sin(\theta) / g\]</span>
Our objective function is hdist(), and we seek to find the argmax. The input <span class="math inline">\(v_0\)</span> is (we have assumed) fixed, so the only decision quantity is the angle <span class="math inline">\(\theta\)</span>.</p>
<p>The best choice of <span class="math inline">\(\theta\)</span> will make the quantity <span class="math inline">\(\cos(\theta)\sin(\theta)\)</span> as large as possible. So in finding the argmax, we don’t need to be concerned with <span class="math inline">\(v_0\)</span> or <span class="math inline">\(g\)</span>.</p>
<p>Finding the argmax can be accomplished simply by plotting the function <span class="math inline">\(\cos(\theta)\sin(\theta)\)</span>. We’ll implement the function so that the input is in units of <em>degrees</em>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ball-theta"></span>
<img src="MOSAIC-Calculus_files/figure-html/ball-theta-1.png" alt="In the simple model of  a tennis ball launched at an angle $\theta$ from the horizontal, the distance travelled  is $2 v_0^2 / g$ times $\cos(\theta)\sin(\theta)$." width="90%" />
<p class="caption">
Figure 23.1: In the simple model of a tennis ball launched at an angle <span class="math inline">\(\theta\)</span> from the horizontal, the distance travelled is <span class="math inline">\(2 v_0^2 / g\)</span> times <span class="math inline">\(\cos(\theta)\sin(\theta)\)</span>.
</p>
</div>
<p>You can see that the maximum value is about 0.5 and that this occurs at an argmax <span class="math inline">\(\theta\)</span> that’s a little bit less than 50<span class="math inline">\(^\circ\)</span>.</p>
<p>Zooming in on the <span class="math inline">\(\theta\)</span> axis let’s you find the argmax with more precision:</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ball-theta-zoom"></span>
<img src="MOSAIC-Calculus_files/figure-html/ball-theta-zoom-1.png" alt="Zooming in on the argmax of the objective function. It's important to look at the scale of the vertical axis. Any value of $\theta$ between about 40 and 50 gives a very close approximation to the maximum." width="90%" />
<p class="caption">
Figure 23.2: Zooming in on the argmax of the objective function. It’s important to look at the scale of the vertical axis. Any value of <span class="math inline">\(\theta\)</span> between about 40 and 50 gives a very close approximation to the maximum.
</p>
</div>
<p>From the graph, especially the zoomed-in version, you can read off the argmax as <span class="math inline">\(\theta = 45^\circ\)</span>.</p>
<p>Finding the argmax solves the problem. You may also want to present your solution by saying what the value of the output of hdist() is when the argmax is given as input. You can read off the graph that the maximum of <span class="math inline">\(\cos(\theta)\sin(\theta)\)</span> is 0.5 at <span class="math inline">\(\theta = 45^\circ\)</span>, so overall the distance will be <span class="math inline">\(v_0^2 / g\)</span> <span style="float: right; padding-left: 50px;"><a name="2495" href="#2495"><img src="www/icons8-signpost.png" title="Location: 2495" width="12px"/></a><span style="color: red; font-size: 6pt;">2495</red></span></p>
</div>
<div id="interpreting-the-argmax" class="section level2" number="7.2">
<h2><span class="header-section-number">23.2</span> Interpreting the argmax</h2>
<p>The graphical solution given to the slingshot problem is entirely satisfactory. Whether that solution will win the contest depends of course on whether the model we built for the objective function is correct. There are potentially important things we have left out, such as air resistence. <span style="float: right; padding-left: 50px;"><a name="2500" href="#2500"><img src="www/icons8-signpost.png" title="Location: 2500" width="12px"/></a><span style="color: red; font-size: 6pt;">2500</red></span></p>
<p>Solving the optimization problem has prepared us to go out in the field and test the result. Perhaps we’ll find that the real-world optimum angle is somewhat steeper or shallower than <span class="math inline">\(\theta = 45^\circ\)</span>. <span style="float: right; padding-left: 50px;"><a name="2505" href="#2505"><img src="www/icons8-signpost.png" title="Location: 2505" width="12px"/></a><span style="color: red; font-size: 6pt;">2505</red></span></p>
<p>Besides the argmax, another important quantity to read from the graph in Figure <a href="optim-and-shape.html#fig:ball-theta">23.1</a> is the <strong><em>precision</em></strong> of the argmax. In strict mathematical terms, the argmax for the tennis-ball problem is exactly 45 degrees at which point <span class="math inline">\(\cos(\theta)\sin(\theta) = 0.5\)</span>. Suppose, however, that the ball were launched at only 40 degrees. Five degrees difference is apparent to the eye, but the result will be essentially the same as for 45 degrees: <span class="math inline">\(\cos(\theta)\sin(\theta) = 0.492\)</span>. The same is true for a launch angle of 50 degrees. For both “sub-optimal” launch angles, the output is within 2 percent of the 45-degree result. It’s easy to imagine that a factor outside the scope of the simple model—the wind, for instance—could change the result by as much or more than 2 percent, so a practical report of the argmax should reasonable be “40 to 50 degrees” rather than “exactly 45 degrees.” <span style="float: right; padding-left: 50px;"><a name="2510" href="#2510"><img src="www/icons8-signpost.png" title="Location: 2510" width="12px"/></a><span style="color: red; font-size: 6pt;">2510</red></span></p>
<p>Contests are won or lost by margins of less than 1%, so you should not casually deviate from the argmax. On the other hand, <span class="math inline">\(45^\circ\)</span> is the argmax of the <em>model</em>. Reality may deviate from the model. For instance, suppose that air resistance or wind might have an effect of about 1% on the distance. Since the real-world function might deviate by as much as 1% of the model value, we shouldn’t expect the real-world argmax to be any closer to 45<span class="math inline">\(^\circ\)</span> than <span class="math inline">\(\pm 5^\circ\)</span>, since anywhere in that input domain generates an output that is within 1% of the maximum output for the model. <span style="float: right; padding-left: 50px;"><a name="2515" href="#2515"><img src="www/icons8-signpost.png" title="Location: 2515" width="12px"/></a><span style="color: red; font-size: 6pt;">2515</red></span></p>
</div>
<div id="derivatives-and-optimization" class="section level2" number="7.3">
<h2><span class="header-section-number">23.3</span> Derivatives and optimization</h2>
<p>We’re now going to reframe the search for the argmax and it’s interpretation in terms of derivatives of the objective function with respect to the decision quantity (<span class="math inline">\(\theta\)</span> in the slingshot problem). For a function of one variable, this will not be an improvement from the look-at-the-graph technique to find the argmax. A genuine reason to use derivatives is to set us up in the future to solve problems with more than one variable, where it is hard to draw or interpret a graph. Also, describing functions in the language of derivatives can help us think more clearly about aspects of the problem, such as the precision of the argmax. <span style="float: right; padding-left: 50px;"><a name="2520" href="#2520"><img src="www/icons8-signpost.png" title="Location: 2520" width="12px"/></a><span style="color: red; font-size: 6pt;">2520</red></span></p>
<p>With a graph such as Figure <a href="optim-and-shape.html#fig:ball-theta">23.1</a>, it’s easy to find the argmax; common sense carries the day. So it won’t be obvious at first why we are going to take the following approach:</p>
<p>Let’s denote an argmax of the objective function <span class="math inline">\(f(x)\)</span> by <span class="math inline">\(x^\star\)</span>.
Let’s look at the derivative <span class="math inline">\(\partial_x f(x)\)</span> in the neighborhood of <span class="math inline">\(x^\star\)</span>. Referring to Figure <a href="optim-and-shape.html#fig:ball-theta">23.1</a>, where <span class="math inline">\(x^\star = 45^\circ\)</span>, you may be able to see that <span class="math inline">\(\partial_x f(x^\star)\)</span> is zero; the line tangent to the function’s graph at <span class="math inline">\(x^\star\)</span> is horizontal. <span style="float: right; padding-left: 50px;"><a name="2525" href="#2525"><img src="www/icons8-signpost.png" title="Location: 2525" width="12px"/></a><span style="color: red; font-size: 6pt;">2525</red></span></p>
<p>Seen another way, the slope of <span class="math inline">\(f(x)\)</span> to the left of <span class="math inline">\(x^\star\)</span> is positive. Move a tiny bit to the right (that is, increase <span class="math inline">\(x\)</span> by a very small amount) leads to an increase in the output <span class="math inline">\(f(x)\)</span>. Just to the right of <span class="math inline">\(x^\star\)</span>, the slope of <span class="math inline">\(f(x)\)</span> is negative; as you reach the top of a hill and continue on, you will be going downhill. So the derivative function is positive on one side of <span class="math inline">\(x^\star\)</span> and negative on the other, suggesting that it crosses zero at the argmax. <span style="float: right; padding-left: 50px;"><a name="2530" href="#2530"><img src="www/icons8-signpost.png" title="Location: 2530" width="12px"/></a><span style="color: red; font-size: 6pt;">2530</red></span></p>
<p>Common sense is correct: Walk uphill to get to the peak, walk downhill to move away from the peak. When you come to the top of a smooth hill, the terrain is level. (Since our modeling functions are smooth, so must be the hills that we visualize the functions with.)</p>
<p>Inputs <span class="math inline">\(x^\star\)</span> such that <span class="math inline">\(\partial_x f(x^\star) = 0\)</span> are called <strong><em>critical points</em></strong>. Why not call them simply argmaxes? Because a the slope will also be zero at an argmin. And it’s even possible to have the slope be zero at a point that’s neither an argmin or an argmax. <span style="float: right; padding-left: 50px;"><a name="2535" href="#2535"><img src="www/icons8-signpost.png" title="Location: 2535" width="12px"/></a><span style="color: red; font-size: 6pt;">2535</red></span></p>
<p>At this point, we know that values <span class="math inline">\(x^\star\)</span> that give <span class="math inline">\(\partial_x f(x^\star) = 0\)</span> are “critical points,” but we haven’t said how to figure out whether a given critical point is an argmax, an argmin, or neither. This is where the behavior of <span class="math inline">\(\partial_x f(x)\)</span> <em>near</em> <span class="math inline">\(x=x^\star\)</span> is important. If <span class="math inline">\(x^\star\)</span> is an argmax, then <span class="math inline">\(\partial_x f(x)\)</span> will be positive to the left of <span class="math inline">\(x^\star\)</span> and negative to the right of <span class="math inline">\(x^\star\)</span>; walk up the hill to get to <span class="math inline">\(x^\star\)</span>, at the top the hill is flat, and just past the top the hill has a negative slope. <span style="float: right; padding-left: 50px;"><a name="2540" href="#2540"><img src="www/icons8-signpost.png" title="Location: 2540" width="12px"/></a><span style="color: red; font-size: 6pt;">2540</red></span></p>
<p>For an argmin, changing <span class="math inline">\(x\)</span> from less than <span class="math inline">\(x^\star\)</span> to greater than <span class="math inline">\(x^\star\)</span>; you will be walking down into the valley, then level at the very bottom <span class="math inline">\(x=x^\star\)</span>, then back up the other side of the valley after you pass <span class="math inline">\(x=x^\star\)</span>. Figure <a href="optim-and-shape.html#fig:d2-hill">23.3</a> shows the situation. <span style="float: right; padding-left: 50px;"><a name="2545" href="#2545"><img src="www/icons8-signpost.png" title="Location: 2545" width="12px"/></a><span style="color: red; font-size: 6pt;">2545</red></span></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:d2-hill"></span>
<img src="MOSAIC-Calculus_files/figure-html/d2-hill-1.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function. A horizontal line (orange) has been added to mark zero on the vertical axis." width="50%" /><img src="MOSAIC-Calculus_files/figure-html/d2-hill-2.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function. A horizontal line (orange) has been added to mark zero on the vertical axis." width="50%" /><img src="MOSAIC-Calculus_files/figure-html/d2-hill-3.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function. A horizontal line (orange) has been added to mark zero on the vertical axis." width="50%" /><img src="MOSAIC-Calculus_files/figure-html/d2-hill-4.png" alt="Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function. A horizontal line (orange) has been added to mark zero on the vertical axis." width="50%" />
<p class="caption">
Figure 23.3: Top row: An objective function near an argmax (left) and an argmin (right). Bottom row: The derivative of the objective function. A horizontal line (orange) has been added to mark zero on the vertical axis.
</p>
</div>
<p>The bottom row of graphs in Figure <a href="optim-and-shape.html#fig:d2-hill">23.3</a> shows the derivative of the objective function <span class="math inline">\(f(x)\)</span>, that is, <span class="math inline">\(\partial_x f(x)\)</span>. You can see that for the argmax of <span class="math inline">\(f(x)\)</span>, the derivative <span class="math inline">\(\partial_x f(x)\)</span> is positive to the left and negative to the right. Similarly, near the argmin of <span class="math inline">\(f(x)\)</span>, the derivative <span class="math inline">\(\partial_x f(x)\)</span> is negative to the left and positive to the right. <span style="float: right; padding-left: 50px;"><a name="2550" href="#2550"><img src="www/icons8-signpost.png" title="Location: 2550" width="12px"/></a><span style="color: red; font-size: 6pt;">2550</red></span></p>
<p>Stated another way, the derivative <span class="math inline">\(\partial_x f(x)\)</span> has a negative slope just to the left of an argmin and a positive slope to the left of an argmax. <span style="float: right; padding-left: 50px;"><a name="2555" href="#2555"><img src="www/icons8-signpost.png" title="Location: 2555" width="12px"/></a><span style="color: red; font-size: 6pt;">2555</red></span></p>
<p>The second derivative of the objective function <span class="math inline">\(f(x)\)</span> at a critical point <span class="math inline">\(x^\star\)</span> is what tells us whether the critical point is an argmax, an argmin, or neither.</p>
<table>
<thead>
<tr class="header">
<th>Critical point <span class="math inline">\(x^\star\)</span></th>
<th><span class="math inline">\(\partial_x f(x^\star)\)</span></th>
<th><span class="math inline">\(\partial_{xx} f(x^\star)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>argmax</td>
<td>0</td>
<td>negative</td>
</tr>
<tr class="even">
<td>argmin</td>
<td>0</td>
<td>positive</td>
</tr>
<tr class="odd">
<td>neither</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<div class="takenote">
<p>Throughout Block 2, we have translated features of functions that are evident on a graph into the language of derivatives:</p>
<ol style="list-style-type: lower-roman">
<li>The <strong>slope</strong> of a function <span class="math inline">\(f(x)\)</span> at any input <span class="math inline">\(x\)</span> is the <strong>value</strong> of the derivative function <span class="math inline">\(\partial_x f(x)\)</span> at that same <span class="math inline">\(x\)</span>.</li>
<li>The <strong>concavity</strong> of a function <span class="math inline">\(f(x)\)</span> at any input is the <strong>slope</strong> of the derivative function, that is, <span class="math inline">\(\partial_{xx} f(x)\)</span>.</li>
<li>Putting (i) and (ii) together, we get that the <strong>concavity</strong> of a function <span class="math inline">\(f(x)\)</span> at any input <span class="math inline">\(x\)</span> is the <strong>value of the second derivative</strong> function, that is, <span class="math inline">\(\partial_{xx} f(x)\)</span>.</li>
<li>At an argmax <span class="math inline">\(x^\star\)</span> of <span class="math inline">\(f(x)\)</span>, the value of the derivative function <span class="math inline">\(\partial_x f(x^\star)\)</span> is zero and the value of the second derivative function <span class="math inline">\(\partial_{xx} f(x^\star)\)</span> is <strong>negative</strong>. The situation at an argmin is along the same lines, the derivative of the objective function is zero and the second derivative is <strong>positive</strong>. <span style="float: right; padding-left: 50px;"><a name="2575" href="#2575"><img src="www/icons8-signpost.png" title="Location: 2575" width="12px"/></a><span style="color: red; font-size: 6pt;">2575</red></span></li>
</ol>
</div>
<div class="workedexample">
<p>What’s the critical point?</p>
<p>You’re familiar with the quadratic polynomial: <span class="math display">\[g(x) = a_0 + a_1 x + a_2 x^2\]</span>
The graph of a quadratic polynomial is a <strong><em>parabola</em></strong>, which might be concave up or concave down. As you know, a parabola has only one critical point, which might be an argmin or an argmax. <span style="float: right; padding-left: 50px;"><a name="2580" href="#2580"><img src="www/icons8-signpost.png" title="Location: 2580" width="12px"/></a><span style="color: red; font-size: 6pt;">2580</red></span></p>
<p>Let’s find the critical point. We know that the critical point is <span class="math inline">\(x^\star\)</span> such that <span class="math inline">\(\partial_x g(x^\star) = 0\)</span>. Since we know how to differentiate a power law, we can see that
<span class="math display">\[\partial_x g(x) = a_1 + 2 a_2 x\]</span> and, more specifically, at the critical point <span class="math inline">\(x^\star\)</span> the derivative will be
<span class="math display">\[a_1 + 2 a_2 x^\star = 0\]</span>
The above is an equation, not a definition. It says that whatever <span class="math inline">\(x^\star\)</span> happens to be, the quantity <span class="math inline">\(a_1 + 2 a_2 x^\star\)</span> must be zero. Using plain old algebra, we can find the location of the critical point <span class="math display">\[x^\star = -\frac{a_1}{2 a_2}\]</span> <span style="float: right; padding-left: 50px;"><a name="2585" href="#2585"><img src="www/icons8-signpost.png" title="Location: 2585" width="12px"/></a><span style="color: red; font-size: 6pt;">2585</red></span></p>
</div>
<!--
<details>
<summary>**Exercise 23.16**: <span><a name="File: Exercises/optim-blue.Rmd" href="#eberg"><img src="www/icons8-signpost.png" title="Location: Exercises/optim-blue.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">eberg</red></span></summary>









In the previous problem, you used graphics to find the argmin of a function. You can, of course, successively reset the domain of the graphing window to zoom in on the location of the argmin.

To find the argmin numerically, you start with a (pretty good) guess for the argmin. Recall that a function (such as `total_time()`) can be modeled with a low-order polynomial. When the function has an extreme point the polynomial should include a quadratic term. Suppose you have guessed that $x=10$ is a good starting guess for the argmin of the air-to-water problem. You can compute the first and second derivatives of `total_time(x)` with respect to `x` and evaluate those derivative functions at $x=10$. (Use the `D()` function to construct the derivatives.) In the sandbox, use the value of those two derivatives at the $x=10$ guess to find the approximation to the minimum of the function.

To help remind you, the quadratic approximation to a function $t(x)$ around a reference point $x_0$ is: $$q(x) \equiv t(x_0) + \partial_x t(x_0) [x - x_0] + \frac{1}{2} \partial_{xx} t(x_0) [x - x_0]^2$$
Find the derivative $\partial_x q(x)$ and set this equal to zero. Inserting appropriate values for $x_0$, $\partial_x t(x_0)$, and $\partial_{xx} t(x_0)$ will enable you to calculate the value of $x$ at the minimum of the approximating quadratic.

**Question A**  iii) Letting the blue area be water (1/1.3 speed factor) and starting with a guess $x_0=10$, find the $x$ that minimizes the approximating quadratic. 

i. <span class='Zchoice'>9.912<span class='mcanswer'>︎✘ </span></span>     
ii. <span class='Zchoice'>10.748<span class='mcanswer'>︎✘ </span></span>     
iii. <span class='Zchoice'>11.017<span class='mcanswer'>︎✘ </span></span>     
iv. <span class='Zchoice'>11.151<span class='mcanswer'>︎✘ </span></span>     
v. <span class='Zchoice'>11.267<span class='mcanswer'>︎✘ </span></span>     
vi. <span class='Zchoice'>11.327<span class='mcanswer'>︎✘ </span></span>     
vii. <span class='Zchoice'>11.515<span class='mcanswer'>︎✘ </span></span>     
viii. <span class='Zchoice'>11.713<span class='mcanswer'>︎✘ </span></span>     
ix. <span class='Zchoice'>11.81<span class='mcanswer'>︎✘ </span></span>     
x. <span class='Zchoice'>12.074<span class='mcanswer'>︎✘ </span></span>     
xi. <span class='Zchoice'>12.276<span class='mcanswer'>︎✘ </span></span>     
xii. <span class='Zchoice'>12.321<span class='mcanswer'>︎✘ </span></span>     
xiii. <span class='Zchoice'>12.438<span class='mcanswer'>︎✘ </span></span>     
xiv. <span class='Zchoice'>12.461<span class='mcanswer'>︎✘ </span></span>     
xv. <span class='Zchoice'>12.579<span class='mcanswer'>Good. </span></span>     
xvi. <span class='Zchoice'>12.618<span class='mcanswer'>︎✘ </span></span>     
xvii. <span class='Zchoice'>12.637<span class='mcanswer'>︎✘ </span></span>     
xviii. <span class='Zchoice'>12.993<span class='mcanswer'>︎✘ </span></span>     
xix. <span class='Zchoice'>13.261<span class='mcanswer'>︎✘ </span></span>     
xx. <span class='Zchoice'>13.36<span class='mcanswer'>︎✘ </span></span>     
xxi. <span class='Zchoice'>13.527<span class='mcanswer'>︎✘ </span></span>     
xxii. <span class='Zchoice'>13.888<span class='mcanswer'>︎✘ </span></span>

**Question B**  iv) Using the correct answer from (iii) for a new $x_0$, find the value of $x$ that minimizes the new approximating quadratic. 

i. <span class='Zchoice'>9.912<span class='mcanswer'>︎✘ </span></span>     
ii. <span class='Zchoice'>10.748<span class='mcanswer'>︎✘ </span></span>     
iii. <span class='Zchoice'>11.017<span class='mcanswer'>︎✘ </span></span>     
iv. <span class='Zchoice'>11.151<span class='mcanswer'>︎✘ </span></span>     
v. <span class='Zchoice'>11.267<span class='mcanswer'>︎✘ </span></span>     
vi. <span class='Zchoice'>11.327<span class='mcanswer'>︎✘ </span></span>     
vii. <span class='Zchoice'>11.515<span class='mcanswer'>︎✘ </span></span>     
viii. <span class='Zchoice'>11.713<span class='mcanswer'>︎✘ </span></span>     
ix. <span class='Zchoice'>11.81<span class='mcanswer'>︎✘ </span></span>     
x. <span class='Zchoice'>12.074<span class='mcanswer'>︎✘ </span></span>     
xi. <span class='Zchoice'>12.276<span class='mcanswer'>︎✘ </span></span>     
xii. <span class='Zchoice'>12.321<span class='mcanswer'>︎✘ </span></span>     
xiii. <span class='Zchoice'>12.438<span class='mcanswer'>︎✘ </span></span>     
xiv. <span class='Zchoice'>12.461<span class='mcanswer'>Excellent! </span></span>     
xv. <span class='Zchoice'>12.579<span class='mcanswer'>︎✘ </span></span>     
xvi. <span class='Zchoice'>12.618<span class='mcanswer'>︎✘ </span></span>     
xvii. <span class='Zchoice'>12.637<span class='mcanswer'>︎✘ </span></span>     
xviii. <span class='Zchoice'>12.993<span class='mcanswer'>︎✘ </span></span>     
xix. <span class='Zchoice'>13.261<span class='mcanswer'>︎✘ </span></span>     
xx. <span class='Zchoice'>13.36<span class='mcanswer'>︎✘ </span></span>     
xxi. <span class='Zchoice'>13.527<span class='mcanswer'>︎✘ </span></span>     
xxii. <span class='Zchoice'>13.888<span class='mcanswer'>︎✘ </span></span>

## Tree harvesting

Your uncle Bob is writing a business plan for a tree farm for lumber. Having heard that you are taking Math 141Z, he emails you giving some information asking for some numbers. In particular, Bob sends you a report saying that, for the species of tree he plans to plant, the amount of usable lumber is a function of growth time $t$ looking like the function defined in the sandbox: 

::: {.scaffolding  data-latex=""}

```r
lumber <- makeFun(ifelse(t<10, 0, 100*exp((t-25)/8)/(1 + exp((t-25)/8))) ~ t)
dt_lumber <- D(lumber(t) ~ t)
ave_growth_rate <- makeFun( your_expression_here ~ t)
slice_plot(lumber(t) ~ t, domain(t=c(0,100)))
```

<img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-103-1.png" width="90%" style="display: block; margin: auto;" />
:::

Bob has heard that the time to harvest is when the tree is growing fastest.

**Question C**  What is the value of `t` (in years) at which $\partial_t$ `lumber(t)` is largest? 

    <span class='Zchoice'>15<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>16<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>17<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>18<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>19<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>20<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>21<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>22<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>23<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>24<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>25<span class='mcanswer'>$\heartsuit\ $</span></span>       <span class='Zchoice'>26<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>27<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>28<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>29<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>30<span class='mcanswer'>︎✘ </span></span>

You patiently explain to your uncle that you certainly do not want to harvest trees when they are growing the fastest. You say, "You want to wait until the average growth rate up to that point is fastest. That will be a little while before the tree reaches its adult volume."



**Question D**  What is the value of t (in years) for which the average growth rate, up to that time, is fastest. 

    <span class='Zchoice'>15<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>17<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>19<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>21<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>23<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>25<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>27<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>29<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>31<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>33<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>35<span class='mcanswer'>$\heartsuit\ $</span></span>       <span class='Zchoice'>37<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>39<span class='mcanswer'>︎✘ </span></span>       <span class='Zchoice'>41<span class='mcanswer'>︎✘ </span></span>
</details>
Save for after approximations have been introduced. -->
<!--
::: {.todo}
This is probably misplaced. and the `plot_lens()` function would have to be provided.

"Exercises/optim-purple.Rmd"`
:::
-->
<div class="intheworld">
<p>In economics, a monopoly or similar arrangement can set the price for a good or commodity. Monopolists can set the price at a level that generates the most income for themselves.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:cournot-demand2"></span>
<img src="www/cournot-demand-curve.png" alt="Demand as a *function* of price, as first published by Antoine-Augustin Cournot in 1836. [Source](https://www.richmondfed.org/~/media/richmondfedorg/publications/research/economic_review/1992/pdf/er780201.pdf))" width="50%" />
<p class="caption">
Figure 23.4: Demand as a <em>function</em> of price, as first published by Antoine-Augustin Cournot in 1836. <a href="https://www.richmondfed.org/~/media/richmondfedorg/publications/research/economic_review/1992/pdf/er780201.pdf">Source</a>)
</p>
</div>
<p>In 1836, early economist Antoine-Augustin Cournot published a theory of revenue versus demand based on his conception that demand will be a monotonically decreasing function of price. (That is, higher price means lower demand.) We’ll write as <span class="math inline">\(\text{Demand}(p)\)</span> demand as a function of price.</p>
<p>The <strong><em>revenue</em></strong> generated at price <span class="math inline">\(p\)</span> is <span class="math inline">\(R(p) \equiv p \text{Demand}(p)\)</span>: price times demand.</p>
<p>To find the revenue-maximizing demand, differentiate <span class="math inline">\(R(p)\)</span> with respect to <span class="math inline">\(p\)</span> and find the argmax <span class="math inline">\(p^\star\)</span> at with <span class="math inline">\(\partial_p R(p^\star) = 0).\)</span> This can be done with the product rule.</p>
<p><span class="math display">\[\partial_p R(p) = p \ \partial_p \text{Demand}(p) + \text{Demand}(p)\]</span>
At the argmax <span class="math inline">\(p^\star\)</span> we have: <span class="math display">\[p^\star \partial_p \text{Demand}(p^\star) + \text{Demand}(p^\star) = 0 \ \ \stackrel{\text{solving for}\ p^\star}{\Longrightarrow} \ \ p^\star = - \frac{\text{Demand}(p^\star)}{\partial_p \text{Demand}(p^\star)}\]</span></p>
<p>If the monopolist knows the demand function <span class="math inline">\(D(p)\)</span>, finding the revenue maximizing price is a simple matter. But in general, the monopolist does not know the demand function in advance. Instead, an informed guess is made to set the initial price <span class="math inline">\(p_0\)</span>. Measuring sales <span class="math inline">\(D(p_0)\)</span> gives one point on the demand curve. Then, try another price <span class="math inline">\(p_1\)</span>. This gives another point on the demand curve as well as an estimate
<span class="math display">\[\partial_p D(p_0) = \frac{D(p_1) - D(p_0)}{p_1 - p_0}\]</span>
Now the monopolist is set to model the demand curve as a straight-line function and easily to find <span class="math inline">\(p^\star\)</span> for the model. For instance, if the demand function is modeled as <span class="math inline">\(D_1 (p) = a + b p\)</span>, the optimal price will be <span class="math inline">\(p^\star_1 = - \frac{a + b p^\star}{b}\)</span> which can be solved as <span class="math inline">\(p^\star_1 = - a/2b\)</span>.</p>
<p><span class="math inline">\(p^\star_1\)</span> is just an estimate of the optimum price. Still, the monopolist can try out that price, giving a third data point for the demand function from which a better model of the demand function can be constructed. With the better estimate, find a new a argmax <span class="math inline">\(p^\star_2\)</span>. This sort of iterative process for finding an argmax of a real-world function is very common in practice.</p>
<!--

As described in "Marshallian Cross Diagrams and
Their Uses before Alfred Marshall:
The Origins of Supply and Demand Geometry", 
Thomas M. Humphrey, ECONOMIC REVIEW. MARCH-APRIL 1992 [Link to PDF](https://www.richmondfed.org/~/media/richmondfedorg/publications/research/economic_review/1992/pdf/er780201.pdf)

To find the revenue-maximizing price, Cournot
differentiated the revenue function $R(p) = pD(p) = pF(p)$
with respect to price. (Note that the product rule applies here.) He obtained the expression $pF'(p) + F(p)$, where $F'$ is the derivative of the demand function $F(p)$. Setting this expression equal to zero as required for a maximum and rearranging, he got $p = -F(p)/F'(p)$, which says that the revenue maximizing price must equal the ratio of the quantity demanded to the slope of the demand curve at that price.

-->
</div>
</div>
<div id="flat-on-top" class="section level2" number="7.4">
<h2><span class="header-section-number">23.4</span> Be practical!</h2>
<p>Decision making is about choosing among alternatives. In some engineering or policy contexts, this can mean finding a value for an input variable that will produce the “best” outcome. For those who have studied calculus, it’s natural to believe that calculus-based techniques for optimization are the route to making the decision.</p>
<p>We emphasize that the optimization techniques covered in this chapter are <strong>only part</strong> of a broader set of techniques for real-world decision-making problems. In particular, most policy contexts involve <strong><em>multiple objectives</em></strong>. For example, in designing a car one goal is to make it cheap to manufacture, another to make it attractive, and still another to make it safe. These different objectives are often at odds with one another. In Block 4 of this text, we’ll discuss some calculus techniques that help policy-makers in multi-objective settings.</p>
<p>For now, sticking with the idealized (and often unrealistic) setting of maximizing a single objective, with one or more inputs.
Recall the setting for calculus-type maximization. You have a function with one or more inputs, say, <span class="math inline">\(f(x)\)</span> or <span class="math inline">\(g(x,y)\)</span> or, often, <span class="math inline">\(h(x, y, z, \ldots)\)</span> where <span class="math inline">\(\ldots\)</span> might be standing for tens or hundreds or thousands of variables or more.</p>
<p>If you can graph the function (feasible for one- or two-input functions), you can often easily scan the graph by eye to find the peak. The calculus-based techniques were developed for situations where such graphing is not possible and, instead, you have a formula for the function. (Such occasions are of great theoretical interest but not all that common in practice.) The basis of the calculus techniques is the observation that, at the argmax of a smooth function, the derivative of the function is 0.</p>
<p>As an example, consider <a href="https://www.dummies.com/education/math/calculus/calculate-the-optimum-volume-of-a-soup-can-practice-question/">a style problem that often appears in calculus textbooks</a>. You have been tasked to design a container for a large volume V of liquid. It is desired to make the weight of the container as little as possible. (This is a <em>minimization</em> problem, then.) In classical textbook fashion, you are told that the container is to be a cylinder made out of a particular metal of a particular thickness.</p>
<p>This is a lovely geometry/calculus problem. Whether it is relevant to any genuine, real-world problem is another question.</p>
<p><img src="www/cylinder.png" width="20%" style="display: block; margin: auto;" /></p>
<p>Using the notation in the diagram, the volume and surface area of the cylinder is <span class="math display">\[V(r, h) \equiv \pi r^2 h \ \ \ \text{and}\ \ \ A(r, h) \equiv 2 \pi r^2 + 2 \pi r h\]</span></p>
<p>Minimizing the weight of the cylinder is our objective (according to the problem statement) and the weight is proportional to the surface area. Since the volume <span class="math inline">\(V\)</span> is given (according to the problem statement), we want to re-write the area function to use volume:</p>
<p><span class="math display">\[h(r, V) \equiv V / \pi r^2 \ \ \ \implies\ \ \ A(r, V) = 2 \pi r^2 + 2 \pi r V/\pi r^2 = 2 \pi r^2 + 2 V / r\]</span>
Suppose <span class="math inline">\(V\)</span> were specified as 1000 liters. A good first step is to choose appropriate units for <span class="math inline">\(r\)</span> to make sure the formula for <span class="math inline">\(A(r, V)\)</span> is dimensionally consistent. Suppose we choose <span class="math inline">\(r\)</span> in cm. Then we want <span class="math inline">\(V\)</span> in cubic centimeters (cc). 1000 liters is 1,000,000 cc. Now we can plot a slice of the area function:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="optim-and-shape.html#cb80-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">makeFun</span>(<span class="dv">2</span><span class="sc">*</span>pi<span class="sc">*</span>r<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>V<span class="sc">/</span>r <span class="sc">~</span> r, <span class="at">V=</span><span class="dv">1000000</span>)</span>
<span id="cb80-2"><a href="optim-and-shape.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_plot</span>(<span class="fu">A</span>(r) <span class="sc">~</span> r, <span class="fu">domain</span>(<span class="at">r=</span><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">100</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="optim-and-shape.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_labs</span>(<span class="at">x =</span> <span class="st">&quot;radius (cm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Surface area of container (square cm)&quot;</span>)</span></code></pre></div>
<p><img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-25-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>As always, the function’s derivative is zero at the optimal <span class="math inline">\(r\)</span>. In the graph, the argmin is near <span class="math inline">\(r=50\)</span> cm at which point the minimum is about 50,000 cm<span class="math inline">\(^2\)</span>. Since <span class="math inline">\(h(r,V) = V/\pi r^2\)</span>, the required height of cylinder will be near <span class="math inline">\(10^6 / \pi 50^2 = 127\)</span>cm.</p>
<p>In calculus courses, the goal is often to find a <strong>formula</strong> for the optimal radius as a function of <span class="math inline">\(V\)</span>. So we differentiate the objective function—that is, the area function for any <span class="math inline">\(V\)</span> and <span class="math inline">\(r\)</span> with respect to <span class="math inline">\(r\)</span>,
<span class="math display">\[\partial_r A(r, V) = 4 \pi r - 2 V / r^2\]</span>
Setting this to zero (which will be true at the optimal <span class="math inline">\(r^\star\)</span>) we can solve for <span class="math inline">\(r^\star\)</span> in terms of <span class="math inline">\(V\)</span>:
<span class="math display">\[4 \pi r^\star - 2 \frac{V}{\left[r^\star\right]^2} = 0 \ \ \ \Longrightarrow\ \ \ 4\pi r^\star = 2\frac{V}{\left[r^\star\right]^2} \Longrightarrow\ \ \ \left[r^\star\right]^3 = \frac{1}{2\pi} V \ \ \ \Longrightarrow\ \ \  r^\star = \sqrt[3]{V/2\pi}\]</span></p>
<p>For <span class="math inline">\(V = 1,000,000\)</span> cm<span class="math inline">\(^3\)</span>, this gives <span class="math inline">\(r^\star = 54.1926\)</span> cm which in turn implies that the corresponding height <span class="math inline">\(h^\star = V/\pi (r^\star)^2 = 108.3852\)</span> cm.</p>
<p>We’ve presented the optimum <span class="math inline">\(r^\star\)</span> and <span class="math inline">\(h^\star\)</span> to the nearest <strong>micron</strong>. (Does that make sense to you? Think about it for a moment before reading on.)</p>
<p>A good rule of thumb in modeling is this: “If you don’t know what a sensible precision is for reporting your result, you don’t have a complete grasp of the problem.” Here are two reasonable ways to sort out a suitable precision.</p>
<ol style="list-style-type: decimal">
<li>Solve a closely related problem which for many practical purposes would have been equivalent.</li>
<li>Look at how big a change in the output of the objective function is produced by a change from the argmax.</li>
</ol>
<p>Approach (2) is always at hand, since you already know the objective function. Let’s graph the objective function near <span class="math inline">\(r = 54.1926\)</span> …</p>
<p><img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-26-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Look carefully at the axes scales. Deviating from the mathematical optimum by about 5cm (that is, 50,000 microns) produces a change in the output of the objective function by about 400 units <strong>out of 55,000</strong>. In other words, about 0.7%.</p>
<p>It’s true that <span class="math inline">\(r^\star = 54.1926\)</span> cm gives the “best” outcome. And sometimes such precision is warranted. For example, improving the speed of an elite marathon racer by even 0.1% would give her a 7 second advantage: often the difference between silver and gold!</p>
<p>What’s different is that you know exactly what is the ultimate objective of a marathon: finish faster. But you may not know the ultimate objective of the system your “optimal” tank will be a part of. For instance, your tank may be part of an external fuel pod on an aircraft. Certainly the designers of the aircraft want the tank to be as light as possible. But they also want to reduce drag as much as possible. A 54 cm diameter tube has about 17% more drag than a 50 cm tube. To save that much drag, it’s probably well worth increasing weight by 0.7%.</p>
<p>In reporting the results from an optimization problem, you ought to give the decision maker all relevant information. Here, that might be as simple as including the above graph in your report.</p>
<p>We mentioned another technique for getting a handle on what precision is meaningful: (1) solve a closely related problem. This often requires some insight and creativity to frame the new problem. Here, we note that large capacity tanks often are shaped like a lozenge: a cylinder with hemi-spherical ends.</p>
<p><img src="www/hemisphere.png" width="40%" style="display: block; margin: auto;" /></p>
<p>Using <span class="math inline">\(h\)</span> for the length of the cylindrical portion of the tank, and <span class="math inline">\(r\)</span> for the radius, the volume and surface area are:
<span class="math display">\[V(r, h) = \pi r^2 h + \frac{4}{3} \pi r^3 \ \ \ \text{and}\ \ \ A(r,h) = 2 \pi r h + 4 \pi r^2\]</span>
Again, <span class="math inline">\(V\)</span> was specified as 1000 liters. As detailed in Exercise 23.18, the surface area of this 1000-liter tank is about 48,400 cm<span class="math inline">\(^2\)</span>. This is more than 10% less than for the cylindrical tank.</p>
</div>
<div id="exercises-5" class="section level2" number="7.5">
<h2><span class="header-section-number">23.5</span> Exercises</h2>
<details>
<summary>
<strong>Exercise 23.02</strong>: <span><a name="File: Exercises/child-iron-laundry.Rmd" href="#0zyL02"><img src="www/icons8-signpost.png" title="Location: Exercises/child-iron-laundry.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">0zyL02</red></span>
</summary>
<p>The simple model of the distance travelled by a tennis ball after launch from a slingshot is <span class="math display">\[\text{hdist}(v_0, \theta) = 2 v_0^2 \cos(\theta)\sin(\theta) / g\]</span> where <span class="math inline">\(\theta\)</span> is the launch angle, measured from the horizontal, <span class="math inline">\(v_0\)</span> is the initial velocity, and <span class="math inline">\(g\)</span> is the acceleration due to gravity.</p>
<p><strong>Question A</strong> What is the dimension of <span class="math inline">\(v_0\)</span>?</p>
<p>    <span class="Zchoice">L T<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">L / T<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span>As in miles/hour or meters/second.</span></span>       <span class="Zchoice">L / T<span class="math inline">\(^2\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">L<span class="math inline">\(^2\)</span> / T<span class="math inline">\(^2\)</span><span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question B</strong> What is the dimension of <span class="math inline">\(g\)</span>?</p>
<p>    <span class="Zchoice">M L<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">M L / T<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">L / T<span class="math inline">\(^2\)</span><span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">M L / T<span class="math inline">\(^2\)</span><span class="mcanswer">︎✘ This is <em>force</em>, not acceleration.</span></span></p>
<p><strong>Question C</strong> What is the dimension of <span class="math inline">\(\theta\)</span>?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">L<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">L^2<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">T/L<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">It’s dimensionless<span class="mcanswer">Good. An angle is measured by <em>distance</em> along the circumference of a circle divided by the radius of the circle, so L/L. The L dimensions cancel out.</span></span></li>
</ol>
<p><strong>Question D</strong> What is the dimension of <span class="math inline">\(\sin(\theta\)</span>)?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">L<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">L^2<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">T/L<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">It’s dimensionless<span class="mcanswer">Excellent! The output of a sinusoid is always dimensionless. You would have to multiply by a dimensionful amplitude (<span class="math inline">\(A \sin(\theta)\)</span>) to attach a dimension to the output.</span></span></li>
</ol>
<p><strong>Question E</strong> What is the dimension of <span class="math inline">\(2 v_0^2 \cos(\theta)\sin(\theta) / g\)</span>?</p>
<p>    <span class="Zchoice">L<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">L^2<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">L/T<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">L/T<span class="math inline">\(^2\)</span><span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question F</strong> Suppose the initial velocity of the ball is <span class="math inline">\(v_0 = 10\)</span> meters/second. Since we’re on the surface of Earth, <span class="math inline">\(g=9.8\)</span> meters/second-squared. At the optimal launch angle <span class="math inline">\(\theta\)</span>, how far does the model predict the ball will travel?</p>
    <span class="Zchoice">10 meters<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">25 meters<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">50 meters<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">75 meters<span class="mcanswer">︎✘ </span></span>
</details>
<details>
<summary>
<strong>Exercise 23.04</strong>: <span><a name="File: Exercises/calf-bring-pants.Rmd" href="#FbJynV"><img src="www/icons8-signpost.png" title="Location: Exercises/calf-bring-pants.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">FbJynV</red></span>
</summary>
<p><strong>Question A</strong> Consider the function <span class="math inline">\(f(x) \equiv x^3\)</span>. Confirm that the value of the derivative <span class="math inline">\(\partial_x f(x = 0)\)</span> and so <span class="math inline">\(x^\star = 0\)</span> is a critical point. Which sort of critical point is <span class="math inline">\(x^\star=0\)</span>? (Hint: Draw the graph of <span class="math inline">\(f(x)\)</span> near <span class="math inline">\(x=0\)</span> to see what’s going on.)</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">An argmax<span class="mcanswer">︎✘ But <span class="math inline">\(f(0) &lt; f(x &gt; 0)\)</span>, so <span class="math inline">\(x^\star=0\)</span> can’t be an argmax.</span></span><br />
</li>
<li><span class="Zchoice">An argmin<span class="mcanswer">︎✘ But <span class="math inline">\(f(x &lt; 0) &lt; f(0)\)</span>, so <span class="math inline">\(x^\star=0\)</span> can’t be an argmin.</span></span><br />
</li>
<li><span class="Zchoice">Neither<span class="mcanswer">Right! </span></span></li>
</ol>
<p><strong>Question B</strong> Still working with the function <span class="math inline">\(f(x) \equiv x^3\)</span>, find the value of the second-derivative <span class="math inline">\(\partial_{xx} f(x^\star)\)</span> evaluated at the critical point <span class="math inline">\(x = x^\star = 0\)</span>. Which of these is <span class="math inline">\(\partial_{xx} f( x=0)\)</span>?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">Negative<span class="mcanswer">︎✘ But you established in the previous exercise that the critical point <span class="math inline">\(x^\star=0\)</span> is neither an argmin nor wan argmax.</span></span><br />
</li>
<li><span class="Zchoice">Positive<span class="mcanswer">︎✘ But you established in the previous exercise that the critical point <span class="math inline">\(x^\star=0\)</span> is neither an argmin nor wan argmax.</span></span><br />
</li>
<li><span class="Zchoice">Zero<span class="mcanswer">Excellent! </span></span>
</details></li>
</ol>
<details>
<summary>
<strong>Exercise 23.06</strong>: <span><a name="File: Exercises/concavity.Rmd" href="#ykelx"><img src="www/icons8-signpost.png" title="Location: Exercises/concavity.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">ykelx</red></span>
</summary>
<p>The graph shows three different functions labeled (A), (B), and (C).</p>
<p><img src="MOSAIC-Calculus_files/figure-html/daily-digital-02-C1-1.png" width="32%" style="display: block; margin: auto;" /><img src="MOSAIC-Calculus_files/figure-html/daily-digital-02-C1-2.png" width="32%" style="display: block; margin: auto;" /><img src="MOSAIC-Calculus_files/figure-html/daily-digital-02-C1-3.png" width="32%" style="display: block; margin: auto;" /></p>
<p><strong>Question A</strong> Function (A) is</p>
<p>    <span class="Zchoice">concave down<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">non-concave<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">concave up<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question B</strong> Function (B) is</p>
<p>    <span class="Zchoice">concave down<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">non-concave<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">concave up<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span></p>
<p><strong>Question C</strong> Function (C) is</p>
<p>    <span class="Zchoice">concave down<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">non-concave<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">concave up<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question D</strong> The <strong>negative</strong> of function (A) is</p>
<p>    <span class="Zchoice">concave down<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">non-concave<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">concave up<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span></p>
<p>The graph shows a function <span class="math inline">\(\text{wave}(t) \equiv \sin(2 \pi t/4)\)</span> and labels four input values <span class="math inline">\(t\)</span>.</p>
<p><img src="MOSAIC-Calculus_files/figure-html/daily-digital-02-C2-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p><strong>Question E</strong> For what values of the input <span class="math inline">\(t\)</span> is the function concave up?</p>
<p>    <span class="Zchoice"><span class="math inline">\(t = A\)</span> and <span class="math inline">\(t=D\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice"><span class="math inline">\(t = A\)</span> and <span class="math inline">\(t=C\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice"><span class="math inline">\(t = C\)</span> and <span class="math inline">\(t = D\)</span><span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">none of the above<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question F</strong> For what values of the input <span class="math inline">\(t\)</span> is the function non-concave?</p>
<p>    <span class="Zchoice"><span class="math inline">\(t = A\)</span><span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice"><span class="math inline">\(t=B\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice"><span class="math inline">\(t=C\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">none of the above<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question G</strong> Where is the function steepest?</p>
    <span class="Zchoice"><span class="math inline">\(t = A\)</span><span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice"><span class="math inline">\(t=B\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice"><span class="math inline">\(t=C\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice"><span class="math inline">\(t=D\)</span><span class="mcanswer">︎✘ </span></span>
</details>
<details>
<summary>
<strong>Exercise 23.08</strong>: <span><a name="File: Exercises/tree-loves-fish.Rmd" href="#lexkd"><img src="www/icons8-signpost.png" title="Location: Exercises/tree-loves-fish.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">lexkd</red></span>
</summary>
<p>Here is a smooth function marked at a few points. Your task is, at each point, to estimate the value of the derivative, the sign of the second derivative, and the radius of the circle that would nicely match the function in a small region around each point. (Remember, we’re asking for the <em>radius</em> of the circle, which is half the <em>diameter</em>.)</p>
<p>To simplify things, here is a table giving seven different combinations of the quantities you are to estimate. Some of them correctly match one of the labeled points, some do not. All you need to do is choose which is the correct set of quantities for each labeled point.</p>
<p><img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-106-1.png" width="90%" style="display: block; margin: auto;" /></p>
<table>
<colgroup>
<col width="13%" />
<col width="23%" />
<col width="36%" />
<col width="26%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">row</th>
<th align="right">value of 1st deriv</th>
<th align="center">sign of 2nd deriv</th>
<th align="left">radius                                       </th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">i</td>
<td align="right">-0.3</td>
<td align="center">pos</td>
<td align="left">0.25 <!--D--></td>
</tr>
<tr class="even">
<td align="left">ii</td>
<td align="right">2.1</td>
<td align="center">near 0</td>
<td align="left">2000 <!--B--></td>
</tr>
<tr class="odd">
<td align="left">iii</td>
<td align="right">-1.4</td>
<td align="center">neg</td>
<td align="left">12</td>
</tr>
<tr class="even">
<td align="left">iv</td>
<td align="right">0.3</td>
<td align="center">neg</td>
<td align="left">0.3 <!--C--></td>
</tr>
<tr class="odd">
<td align="left">v</td>
<td align="right">2.1</td>
<td align="center">pos</td>
<td align="left">0.1</td>
</tr>
<tr class="even">
<td align="left">vi</td>
<td align="right">1.3</td>
<td align="center">neg</td>
<td align="left">3 <!--E--></td>
</tr>
<tr class="odd">
<td align="left">vii</td>
<td align="right">0.5</td>
<td align="center">pos</td>
<td align="left">1 <!--A--></td>
</tr>
</tbody>
</table>
<p><strong>Question A</strong> Which row from the table best matches the function at point A?</p>
<p>    <span class="Zchoice">i<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">ii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iv<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">v<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vi<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vii<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span></p>
<p><strong>Question B</strong> Which row from the table best matches the function at point B?</p>
<p>    <span class="Zchoice">i<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">ii<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">iii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iv<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">v<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vi<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vii<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question C</strong> Which row from the table best matches the function at point C?</p>
<p>    <span class="Zchoice">i<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">ii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iv<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">v<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vi<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vii<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question D</strong> Which row from the table best matches the function at point D?</p>
<p>    <span class="Zchoice">i<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">ii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iv<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">v<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vi<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vii<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question E</strong> Which row from the table best matches the function at point E?</p>
    <span class="Zchoice">i<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">ii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iii<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">iv<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">v<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">vi<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">vii<span class="mcanswer">︎✘ </span></span>
</details>
<details>
<summary>
<strong>Exercise 23.10</strong>: <span><a name="File: Exercises/optim-violet.Rmd" href="#dwes"><img src="www/icons8-signpost.png" title="Location: Exercises/optim-violet.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">dwes</red></span>
</summary>
<p>You and your pet dog Swimmer often go to the beach and walk along the water’s edge. You throw a ball down the beach, but at an angle so it lands in the water. Swimmer goes to work. She runs down the beach (fast) and then plunges into the water, heading toward the ball. She can run fast on the beach: 400 m/minute. But she swims rather slower: 50 m/min.</p>
<p>Suppose you threw the ball to a point about 50 meters down the beach and 10 meters out in the water. The overall distance to the ball is therefore <span class="math inline">\(\sqrt{50^2 + 10^2} \approx 51\)</span> meters. If Swimmer entered the water immediately, she would take about a minute to reach the ball (51 m / 50 m/min). Swimmer can get to the ball faster by running down the beach a bit and then turning into the water. If Swimmer ran all 50 meters down the beach and then turned to swim the 10 meters, it would take her (50/400 + 10/50) minutes, about one-third of a minute.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:calculus-dog"></span>
<img src="www/swimmers-run.png" alt="Swimmer's optimal path to the ball consists of running $x$ meters along the shore, then swimming diagonally to the ball." width="90%" />
<p class="caption">
Figure 23.5: Swimmer’s optimal path to the ball consists of running <span class="math inline">\(x\)</span> meters along the shore, then swimming diagonally to the ball.
</p>
</div>
<p>Can Swimmer do better? You can set up the calculation like this. Imagine <span class="math inline">\(x\)</span> to be the distance down the beach that Swimmer runs. The time to run this distance will be <span class="math inline">\(x/400\)</span>. The distance remaining to the ball can be found by the Pythagorean theorem. One leg of the triangle has length <span class="math inline">\((50-x)\)</span>, the other has length 10 m. So, the length of the third side is <span class="math inline">\(\sqrt{\strut (50-x)^2 + 10^2}\)</span>. For instance, if <span class="math inline">\(x\)</span> were 45, the distance to swim in the water would be <span class="math inline">\(\sqrt{(50-45)^2 + 10^2} = 11.2\)</span> m. Divide this distance by 50 m/min to get the time spent in the water.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="optim-and-shape.html#cb81-1" aria-hidden="true" tabindex="-1"></a>distance_in_water <span class="ot">&lt;-</span> <span class="fu">makeFun</span>( __your_pythagorean_formula <span class="sc">~</span> x)</span>
<span id="cb81-2"><a href="optim-and-shape.html#cb81-2" aria-hidden="true" tabindex="-1"></a>time_to_ball <span class="ot">&lt;-</span> <span class="fu">makeFun</span>(x<span class="sc">/</span><span class="dv">400</span> <span class="sc">+</span> <span class="fu">distance_in_water</span>(x)<span class="sc">/</span><span class="dv">50</span> <span class="sc">~</span> x)</span></code></pre></div>
<p><code>Time_to_ball()</code> takes one argument, the distance <span class="math inline">\(x\)</span> Swimmer runs down the beach before turning into the water. Use a <a href="https://maa-statprep.shinyapps.io/CalcZ-Sandbox/">SANDBOX</a> to find the distance that calculus-savvy Swimmer runs down the beach before turning into the water, if Swimmer’s goal is to get to the ball as fast as possible.</p>
<p><strong>Question A</strong> What’s the optimal running distance for Swimmer?</p>
<p>    <span class="Zchoice">46.75<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">47.5<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">48.75<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">49.75<span class="mcanswer">︎✘ </span></span></p>
<a href="https://abcnews.go.com/Technology/story?id=97628&amp;page=1">Here’s a news story</a> about a mathematician’s dog on the shore of Lake Michigan. It’s not plausible that Swimmer has been trained in calculus. Perhaps the way Swimmer solves the running distance problem is simply to graph <code>time_to_ball(x) ~ x</code> over a suitable domain and find the argmax by eye!
</details>
<details>
<summary>
<strong>Exercise 23.12</strong>: <span><a name="File: Exercises/optim-pink.Rmd" href="#whfrt"><img src="www/icons8-signpost.png" title="Location: Exercises/optim-pink.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">whfrt</red></span>
</summary>
<p>If you’re skeptical that a dog might do a calculus problem before running to fetch a ball, consider the path taken by a photon. “Fermat’s Principle” is that light takes the path of least time. To illustrate, consider the problem of a photon travelling from a point A to a point B, as in the diagram. The shortest path between the two points is a straight line. Along this straight-line path, the time taken by the photon will be the distance divided by the speed of light.</p>
<p>The diagram shows another path consisting of two segments, one of length <span class="math inline">\(l_1\)</span> and the other <span class="math inline">\(l_2\)</span>. Obviously, the two-segment path is longer than the straight-line path. But according to Fermat’s principle, light “prefers” the longer path if the time taken to traverse it is shorter. This phenomenon is called <strong><em>refraction</em></strong>.</p>
<p><img src="Exercises/www/1200px-Fermat_Snellius_svg.png" width="60%" style="display: block; margin: auto;" /></p>
<p>The reason the indirect path might be shorter is that the speed of light differs in different physical media. Light traveling in a vacuum famously has a speed of about 300,000 km per second. In air, the speed is smaller by a factor of 1/1.003. In water, the speed is smaller still: the factor is 1/1.3.</p>
<p>Imagine that the blue zone of the diagram is water and the clear zone air. The time for the photon to travel from point A to B is proportional to <span class="math inline">\(1.003\ l_1 + 1.3\ l_2\)</span>.</p>
<p><img src="Exercises/www/refraction.png" width="60%" style="display: block; margin: auto;" /></p>
<p>To see the path actually taken by light, let’s imagine that point A is <span class="math inline">\((x=0, y=10)\)</span> and point B is <span class="math inline">\((x=20, y=-10)\)</span>, and that the boundary between water and air is at <span class="math inline">\(y=0\)</span>. We’ll place the point P at <span class="math inline">\((x, 0)\)</span>. The total time taken for light to traverse this path is 1.003 dist(A to P) + 1.3 dist(P to B).</p>
<p><strong>Question A</strong> Which of these formulas gives the total time it takes for light to traverse the path from A to P at relative speed 1/1.003 and then the path from P to B at relative speed 1/1.3? A is located at <span class="math inline">\((0, 10)\)</span>, B is located at <span class="math inline">\((20,-10)\)</span>, and P is located at <span class="math inline">\((x, 0)\)</span></p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice"><span class="math inline">\(1.003 \sqrt{(x-0)^2 +(0-10)^2}+ 1.3\sqrt{(20-x)^2 + (-10 - 0)^2}\)</span><span class="mcanswer">Nice! </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(\sqrt{(x-0)^2 +(0-10)^2}/1.003+ \sqrt{(20-x)^2 + (-10 - 0)^2}/1.3\)</span><span class="mcanswer">︎✘ It’s true that you divide distance by speed to get time, but here the relative speeds are <span class="math inline">\(1/1.003\)</span> and <span class="math inline">\(1/1.3\)</span>.</span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(1.003 \sqrt{(x-10)^2 +(0-0)^2}+ 1.3\sqrt{(-10 -x)^2 + (50 - 0)^2}\)</span><span class="mcanswer">︎✘ This mixes up the x and y coordinates. The distance from A to P is <span class="math inline">\(\sqrt{(x_P - x_A)^2 + (y_P - y_A)^2}\)</span>. In this problem, point P is at <span class="math inline">\((50-x, 0)\)</span>.</span></span></li>
</ol>
<p>Implement the calculation of <code>total_time()</code> in R, then use a graph to find the argmin.</p>
<div class="scaffolding">
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="optim-and-shape.html#cb82-1" aria-hidden="true" tabindex="-1"></a>total_time <span class="ot">&lt;-</span> <span class="fu">makeFun</span>( your_formula <span class="sc">~</span> x)</span>
<span id="cb82-2"><a href="optim-and-shape.html#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_plot</span>(<span class="fu">total_time</span>(x) <span class="sc">~</span> x, <span class="fu">domain</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)))</span>
<span id="cb82-3"><a href="optim-and-shape.html#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="optim-and-shape.html#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co"># For the next problem</span></span>
<span id="cb82-5"><a href="optim-and-shape.html#cb82-5" aria-hidden="true" tabindex="-1"></a>dx_time  <span class="ot">&lt;-</span> <span class="fu">D</span>(<span class="fu">total_time</span>(x) <span class="sc">~</span> x)</span>
<span id="cb82-6"><a href="optim-and-shape.html#cb82-6" aria-hidden="true" tabindex="-1"></a>dxx_time <span class="ot">&lt;-</span> <span class="fu">D</span>(<span class="fu">total_time</span>(x) <span class="sc">~</span> x <span class="sc">&amp;</span> x)</span></code></pre></div>
</div>
<p><strong>Question B</strong> What value of <span class="math inline">\(x\)</span> (that is, the argmin) minimizes the travel time of light between points A and B? (Choose the best answer)</p>
<p>    <span class="Zchoice">10.52<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">11.02<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">12.22<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">12.50<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">13.21<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">14.94<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question C</strong> Suppose that instead of being water, the blue area was glass. The speed of light in glass is roughly 1/1.5 times as big as in vacuum. What value of <span class="math inline">\(x\)</span> minimizes the travel time of light between points A and B? (Choose the best answer)</p>
    <span class="Zchoice">13.60<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">14.58<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">14.85<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">15.54<span class="mcanswer">︎✘ </span></span>
</details>
<details>
<summary>
<strong>Exercise 23.14</strong>: <span><a name="File: Exercises/optim-red.Rmd" href="#jgtrds"><img src="www/icons8-signpost.png" title="Location: Exercises/optim-red.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">jgtrds</red></span>
</summary>
<div class="todo">
<p>Turn this into a problem about algebra.</p>
<p>Later in accumulation, figure out the mile-markers on the road.</p>
</div>
<p>There is a tradition in mathematics education of using <em>geometrical</em>, distance-related problems to illustrate optimization. As it happens, some such problems can provide some valuable insight into physical situations.</p>
<p>Suppose you have a function <span class="math inline">\(f(x)\)</span> whose graph represents the path of a road through the jungle. There is a lion at coordinates <span class="math inline">\((3, 2)\)</span> in the jungle. At what point as you travel along the road will you be closest to the lion.</p>
<p>The trick here is to see that your position on the road at any value of <span class="math inline">\(x\)</span> is <span class="math inline">\((x, f(x))\)</span>. The distance to the lion as a function of <span class="math inline">\(x\)</span> is <span class="math display">\[ \text{lion.dist}(x) \equiv \sqrt{(x - 3)^2 + (f(x)-2)^2} .\]</span></p>
<p>The road and the lion are graphed in the sandbox for the road <span class="math inline">\(f(x) \equiv x^2 e^{-x}\)</span>. You can see that the road comes closest to the lion at roughly <span class="math inline">\(x=3\)</span>. When you implement the lion.dist<span class="math inline">\((x)\)</span> function, you’ll be able to find the <em>argmin</em>, that is, the value of the input <span class="math inline">\(x\)</span> for which the output lion_dist<span class="math inline">\((x)\)</span> is minimal. The value of the function lion_dist<span class="math inline">\((x)\)</span> at the argmin is the <em>min</em> of the function.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="optim-and-shape.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_plot</span>(x<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> <span class="fu">exp</span>(<span class="sc">-</span>x) <span class="sc">~</span> x, <span class="fu">domain</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="optim-and-shape.html#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_label</span>(<span class="dv">2</span> <span class="sc">~</span> <span class="dv">3</span>, <span class="at">label=</span><span class="st">&quot;lion&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb83-3"><a href="optim-and-shape.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gf_refine</span>(<span class="fu">coord_fixed</span>())</span></code></pre></div>
<p><img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-115-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>To find the argmin of the distance to the lion more precisely, implement the <span class="math inline">\(\text{lion.dist}(x)\)</span> function in the sandbox. Plot this out and look for the minimum. Alternatively, find <span class="math inline">\(\partial_x \text{lion.dist}(x)\)</span> and find the <span class="math inline">\(x\)</span> of the zero crossing.</p>
<p><strong>Question A</strong> Using the sandbox above, find the argmin for which the graph of the function <span class="math inline">\(g(x) \equiv x^2 \exp(-x)\)</span> comes closest to the point <span class="math inline">\((3, 2)\)</span>? (Choose the best answer.)</p>
<p>    <span class="Zchoice">2.03<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.07<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.21<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.27<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.28<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.33<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.37<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.39<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.43<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.48<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.58<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.71<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2.80<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">2.94<span class="mcanswer">︎✘ </span></span></p>
</details>
<details>
<summary>
<strong>Exercise 23.18</strong>: <span><a name="File: Exercises/walnut-write-futon.Rmd" href="#ph92lT"><img src="www/icons8-signpost.png" title="Location: Exercises/walnut-write-futon.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">ph92lT</red></span>
</summary>
<p>Return to the problem of finding the optimal radius of a cylindrical tank with spherical ends. The point is to choose the sphere radius <span class="math inline">\(r\)</span> and the cylinder length <span class="math inline">\(h\)</span> that minimize the surface area of the tank while enclosing a specified volume. In terms of <span class="math inline">\(h\)</span> and <span class="math inline">\(r\)</span>, the volume and surface area are:
<span class="math display">\[V(r, h) = \pi r^2 h + \frac{4}{3} \pi r^3 \ \ \ \text{and}\ \ \ A(r,h) = 2 \pi r h + 4 \pi r^2\]</span></p>
<p><strong>Question A</strong> Which of these is correct? (Hint: Only one of the answers is dimensionally consistent.)</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice"><span class="math inline">\(h(r, V) = (V-4\pi r^3/3)/ \pi r^2\)</span><span class="mcanswer">Good. </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(h(r, V) = (V-4\pi r^2/2)/ \pi r^2\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(h(r, V) = (V-4\pi r^3/3)/ \pi r^3\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(h(r, V) = \sqrt{(V-4\pi r^3/2)/\pi r^3}\)</span><span class="mcanswer">︎✘ </span></span></li>
</ol>
<p><strong>Question B</strong> Which of these is the correct expression for <span class="math inline">\(A(r, V)\)</span></p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice"><span class="math inline">\(A(r, V) = 2 V/r + \frac{8 \pi}{3} r^2\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(A(r, V) = 2 V/r + \frac{4 \pi}{3} r^2\)</span><span class="mcanswer">Good. </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(A(r, V) = V/r + \frac{20 \pi}{3} r^2\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(A(r, V) = V/r + 3 \pi r^2\)</span><span class="mcanswer">︎✘ </span></span></li>
</ol>
<p><strong>Question C</strong> Find <span class="math inline">\(\partial_r A(r, V)\)</span> and set to zero. Solve for <span class="math inline">\(r^\star\)</span> in terms of <span class="math inline">\(V\)</span>. Which of these is correct?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice"><span class="math inline">\(r^\star = \sqrt[3]{\frac{3}{4\pi} V}\)</span><span class="mcanswer">Excellent! </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(r^\star = \sqrt[3]{\frac{4}{3\pi} V}\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(r^\star = \sqrt[3]{\frac{3\pi}{4} V}\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(r^\star = \sqrt[3]{\frac{3}{2\pi} V}\)</span><span class="mcanswer">︎✘ </span></span></li>
</ol>
<p>Find the optimum value of <span class="math inline">\(r\)</span> to minimize <span class="math inline">\(A(r,V)\)</span> when <span class="math inline">\(V = 1000\)</span> liters.</p>
<p><strong>Question D</strong> What is the optimal value of <span class="math inline">\(r\)</span> in cm to a precision of one micron?</p>
<p>    <span class="Zchoice">6.2035<span class="mcanswer">︎✘ Check that you were using the right units for <span class="math inline">\(V\)</span>.</span></span>       <span class="Zchoice">46.0351<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">52.0351<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">62.0351<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span></p>
<p>Use a sandbox to plot a graph of <span class="math inline">\(A(r, V)\)</span> versus r, setting <span class="math inline">\(V = 1000\)</span> liters.</p>
<p><strong>Question E</strong> From the graph of <span class="math inline">\(A(r, V)\)</span> versus <span class="math inline">\(r\)</span> at <span class="math inline">\(V=1000\)</span> liters, read off a range of <span class="math inline">\(r\)</span> that produces <span class="math inline">\(A\)</span> no worse than 1% greater than the minimum. How wide is that range, approximately?</p>
    <span class="Zchoice"><span class="math inline">\(\pm 0.1\)</span>cm<span class="math inline">\(&lt;span class=&#39;mcanswer&#39;&gt;︎✘ &lt;/span&gt;&lt;/span&gt;       &lt;span class=&#39;Zchoice&#39;&gt;\)</span><span class="math inline">\(cm\)</span><span class="mcanswer">︎✘ </span></span>       <span class="Zchoice"><span class="math inline">\(\pm 5\)</span>cm<span class="math inline">\(&lt;span class=&#39;mcanswer&#39;&gt;\)</span> <span class="math inline">\(&lt;/span&gt;&lt;/span&gt;       &lt;span class=&#39;Zchoice&#39;&gt;\)</span><span class="math inline">\(cm\)</span><span class="mcanswer">︎✘ </span></span>
</details>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="13">
<li id="fn13"><p>Another word for an “input” is “argument.” Argmax is the contraction of <strong>arg</strong>ument producing the <strong>max</strong>imum output.<a href="optim-and-shape.html#fnref13" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="prod-comp-rules.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="partial-change.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dtkaplan/MOSAIC-Calculus/shared/23-optim.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/dtkaplan/MOSAIC-Calculus/shared/23-optim.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
