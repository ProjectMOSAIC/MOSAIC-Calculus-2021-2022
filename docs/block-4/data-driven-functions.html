<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 33 Data-driven functions | MOSAIC-Calculus.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.24.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 33 Data-driven functions | MOSAIC-Calculus.knit" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 33 Data-driven functions | MOSAIC-Calculus.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="operations.html"/>
<link rel="next" href="optimization-and-constraint.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<span class="math inline">
\(\newcommand{\line}{\text{line}}
\newcommand{\hump}{\text{hump}}
\newcommand{\sigmoid}{\text{sigmoid}}
\newcommand{\recip}{\text{recip}}
\newcommand{\diff}[1]{{\cal D}_#1}
\newcommand{\pnorm}{\text{pnorm}}
\newcommand{\dnorm}{\text{dnorm}}
\newcommand{\CC}[1]{\color{#648fff}{#1}}
\newcommand{\CE}[1]{\color{#785ef0}{#1}}
\newcommand{\CA}[1]{\color{#dc267f}{#1}}
\newcommand{\CB}[1]{\color{#fe6100}{#1}}
\newcommand{\CD}[1]{\color{#ffb000}{#1}}\)
</span>






<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="mosaic-calc-style-copy.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><span style="font-size: 150%;><strong><a href="../index.html">MOSAIC Calculus</a></strong></span></li>
<li><em><a>Calculus for the 21st century</a></em></li>
<li><a>Daniel Kaplan</a></li>
<hr>
<li><a href="../block-1/change.html">Block 1: Functions & quantities</a></li>
<li><a href="../block-2/change-relationships.html">Block 2: Differentiation</a></li>
<li><a href="../block-3/change-accumulation.html">Block 3: Accumulation</a></li>
<li><strong><a href="../block-4/block4-intro.html">Block 4: Manifestations</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="block4-intro.html"><a href="block4-intro.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="32" data-path="operations.html"><a href="operations.html"><i class="fa fa-check"></i><b>32</b> Operations on functions</a>
<ul>
<li class="chapter" data-level="32.1" data-path="operations.html"><a href="operations.html#task-solve"><i class="fa fa-check"></i><b>32.1</b> Task: Solve</a></li>
<li class="chapter" data-level="32.2" data-path="operations.html"><a href="operations.html#task-argmax"><i class="fa fa-check"></i><b>32.2</b> Task: Argmax</a></li>
<li class="chapter" data-level="32.3" data-path="operations.html"><a href="operations.html#task-iterate"><i class="fa fa-check"></i><b>32.3</b> Task: Iterate</a></li>
<li class="chapter" data-level="32.4" data-path="operations.html"><a href="operations.html#software-for-the-tasks"><i class="fa fa-check"></i><b>32.4</b> Software for the tasks</a></li>
<li class="chapter" data-level="32.5" data-path="operations.html"><a href="operations.html#exercises"><i class="fa fa-check"></i><b>32.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="data-driven-functions.html"><a href="data-driven-functions.html"><i class="fa fa-check"></i><b>33</b> Data-driven functions</a>
<ul>
<li class="chapter" data-level="33.1" data-path="data-driven-functions.html"><a href="data-driven-functions.html#generating-smooth-motion"><i class="fa fa-check"></i><b>33.1</b> Generating smooth motion</a></li>
<li class="chapter" data-level="33.2" data-path="data-driven-functions.html"><a href="data-driven-functions.html#piecewise-but-smooth"><i class="fa fa-check"></i><b>33.2</b> Piecewise but smooth</a></li>
<li class="chapter" data-level="33.3" data-path="data-driven-functions.html"><a href="data-driven-functions.html#cubic-splines"><i class="fa fa-check"></i><b>33.3</b> C<sup>2</sup> smooth functions</a></li>
<li class="chapter" data-level="33.4" data-path="data-driven-functions.html"><a href="data-driven-functions.html#bézier-splines"><i class="fa fa-check"></i><b>33.4</b> Bézier splines</a></li>
<li class="chapter" data-level="33.5" data-path="data-driven-functions.html"><a href="data-driven-functions.html#exercises-1"><i class="fa fa-check"></i><b>33.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="optimization-and-constraint.html"><a href="optimization-and-constraint.html"><i class="fa fa-check"></i><b>34</b> Optimization and constraint</a>
<ul>
<li class="chapter" data-level="34.1" data-path="optimization-and-constraint.html"><a href="optimization-and-constraint.html#gradient-descent"><i class="fa fa-check"></i><b>34.1</b> Gradient descent</a></li>
<li class="chapter" data-level="34.2" data-path="optimization-and-constraint.html"><a href="optimization-and-constraint.html#objectives-and-constraints"><i class="fa fa-check"></i><b>34.2</b> Objectives and Constraints</a></li>
<li class="chapter" data-level="34.3" data-path="optimization-and-constraint.html"><a href="optimization-and-constraint.html#constraint-cost"><i class="fa fa-check"></i><b>34.3</b> Constraint cost</a></li>
<li class="chapter" data-level="34.4" data-path="optimization-and-constraint.html"><a href="optimization-and-constraint.html#exercises-2"><i class="fa fa-check"></i><b>34.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="probability-and-evidence.html"><a href="probability-and-evidence.html"><i class="fa fa-check"></i><b>35</b> Probability and evidence</a>
<ul>
<li class="chapter" data-level="35.1" data-path="probability-and-evidence.html"><a href="probability-and-evidence.html#probability-density"><i class="fa fa-check"></i><b>35.1</b> Probability density</a></li>
<li class="chapter" data-level="35.2" data-path="probability-and-evidence.html"><a href="probability-and-evidence.html#three-density-functions"><i class="fa fa-check"></i><b>35.2</b> Three density functions</a></li>
<li class="chapter" data-level="35.3" data-path="probability-and-evidence.html"><a href="probability-and-evidence.html#mean-and-variance"><i class="fa fa-check"></i><b>35.3</b> Mean and variance</a></li>
<li class="chapter" data-level="35.4" data-path="probability-and-evidence.html"><a href="probability-and-evidence.html#risk-and-data"><i class="fa fa-check"></i><b>35.4</b> Risk and data</a></li>
<li class="chapter" data-level="35.5" data-path="probability-and-evidence.html"><a href="probability-and-evidence.html#exercises-3"><i class="fa fa-check"></i><b>35.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="future-value.html"><a href="future-value.html"><i class="fa fa-check"></i><b>36</b> Present and future value</a>
<ul>
<li class="chapter" data-level="36.1" data-path="future-value.html"><a href="future-value.html#present-value-time"><i class="fa fa-check"></i><b>36.1</b> Present value (time)</a></li>
<li class="chapter" data-level="36.2" data-path="future-value.html"><a href="future-value.html#exercises-4"><i class="fa fa-check"></i><b>36.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="mechanics.html"><a href="mechanics.html"><i class="fa fa-check"></i><b>37</b> Mechanics</a>
<ul>
<li class="chapter" data-level="37.1" data-path="mechanics.html"><a href="mechanics.html#work"><i class="fa fa-check"></i><b>37.1</b> Work</a></li>
<li class="chapter" data-level="37.2" data-path="mechanics.html"><a href="mechanics.html#energy"><i class="fa fa-check"></i><b>37.2</b> Energy</a></li>
<li class="chapter" data-level="37.3" data-path="mechanics.html"><a href="mechanics.html#momentum"><i class="fa fa-check"></i><b>37.3</b> Momentum</a></li>
<li class="chapter" data-level="37.4" data-path="mechanics.html"><a href="mechanics.html#center-of-mass"><i class="fa fa-check"></i><b>37.4</b> Center of mass</a></li>
<li class="chapter" data-level="37.5" data-path="mechanics.html"><a href="mechanics.html#angular-momentum-and-torque"><i class="fa fa-check"></i><b>37.5</b> Angular momentum and torque</a></li>
<li class="chapter" data-level="37.6" data-path="mechanics.html"><a href="mechanics.html#exercises-5"><i class="fa fa-check"></i><b>37.6</b> Exercises</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="../block-5/vectors.html">Block 5: Linear combinations</a></li>
<li><a href="../block-6/dynamics.html">Block 6: Dynamics</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-driven-functions" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 33</span> Data-driven functions</h1>
<!-- 
**Objectives**

* Functions for curves in space
* Recognize interpolation as the process of building a continuous function that connects a series of $(x, y)$ data points.
* Understand the standard types of functions constructed to interpolate data points.
* Be able to characterize the smoothness of those different types of function.

-->
<p>As early as Chapter 3 of this book, we noted that a function can be described as a table where each row stands for one set of input values together with a corresponding output value. We did not, however, make much use of the table-as-function concept. Instead, we used data tables to motivate the choice of parameters, as in linear combinations of the basic modeling functions. We called this <strong><em>function fitting</em></strong>: constructing a function that stays <strong>near</strong> the data values. (We will say more about function fitting in Block 5 where we introduce new tools for treating functions as geometrical objects.)</p>
<p>This chapter introduces yet another important method for constructing functions that match with data. What’s different here is that each data point will be a <strong>mandate</strong>; the function is required to go through each and every data point exactly.</p>
<div id="generating-smooth-motion" class="section level2" number="2.1">
<h2><span class="header-section-number">33.1</span> Generating smooth motion</h2>
<p>As a motivating example, consider the programming of robotic arms as in the video:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0L7Xk5_s3QQ?start=81" title="Robotic arms" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Since this isn’t a robots course, we’ll simplify. The arm has a resting position. When a car frame comes into place, the arm moves so that its welding electrodes are at a specific, known place in space near the car body. Then it moves in sequence to other places where a weld is required, perhaps passing through waypoints to avoid obstacles.</p>
<p>The problem of converting the discrete list of weld and waypoints into a continuous signal for the actuator is an instance of a mathematical process called <strong>interpolation</strong>. In real robot arms, there are multiple joints that need to be controlled simultaneously. For our illustration, we’ll use a simple setup where the robot hand rolls along a set of rails in the y-direction and another x-rail running crosswise to the y direction.</p>
<p><img src="www/x-y-cnc.png" width="50%" style="display: block; margin: auto;" /></p>
<p>The task for our example robot will be to visit the points shown in Figure <a href="data-driven-functions.html#fig:robot-points">33.1</a> in order, taking 15 seconds to traverse the whole path.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:robot-points"></span>
<img src="MOSAIC-Calculus_files/figure-html/robot-points-1.png" alt="The waypoints on a path the robot hand is supposed to follow. All the action is taking place in roughly 1x1 meter area." width="90%" />
<p class="caption">
Figure 33.1: The waypoints on a path the robot hand is supposed to follow. All the action is taking place in roughly 1x1 meter area.
</p>
</div>
<p>Figure <a href="data-driven-functions.html#fig:robot-points">33.1</a> shows a continuous path in <span class="math inline">\((x,y)\)</span> coordinates together with discrete labels indicating <em>when</em> each waypoint is to be reached. Note that the path is not a function <span class="math inline">\(y(x)\)</span>. Mathematical functions are required to be <strong><em>single valued</em></strong>, meaning that for each value of the input (in the function domain) there can be only one, unique output value. The path in Figure <a href="data-driven-functions.html#fig:robot-points">33.1</a> often involves two or more different <span class="math inline">\(y\)</span> values for a single <span class="math inline">\(x\)</span> value. There is even a small domain of <span class="math inline">\(x\)</span> near <span class="math inline">\(x=900\)</span> where the path at any given <span class="math inline">\(x\)</span> crosses <em>six</em> different <span class="math inline">\(y\)</span>-values.</p>
<p>Even so, functions can be a useful way of describing the <span class="math inline">\((x,y)\)</span> path. The key is the plural: function<strong>s</strong>. For the path in Figure <a href="data-driven-functions.html#fig:robot-points">33.1</a> we need <em>two</em> quantities varying with time in a coordinated way. One approach, familiar to navigators, is to specify direction of movement and velocity at each instant of time. Perhaps not as familiar, but more fundamental mathematically, is to specify <span class="math inline">\(x\)</span> as a function of time and, separately, <span class="math inline">\(y\)</span> as a function of time. Using this formalism, the trajectory of the robot arm will consist of two functions, <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span>. To build those functions, well start with the waypoints stored in the data frame <code>Zcalc::Robot.stations</code>.</p>
<table class=" lightable-paper lightable-hover" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
t
</th>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
y
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
496
</td>
<td style="text-align:right;">
191
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1037
</td>
<td style="text-align:right;">
138
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1251
</td>
<td style="text-align:right;">
191
</td>
</tr>
<tr>
<td colspan="3" align="center">
… and so on …
</td>
</tr>
<tr>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
928
</td>
<td style="text-align:right;">
432
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
737
</td>
<td style="text-align:right;">
240
</td>
</tr>
</tbody>
</table>
<p>The <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> functions in this table aren’t complete enough to operate the robot. We need to provide the <span class="math inline">\(x,y\)</span>-location data in the form of two <strong>continuous</strong> functions of <span class="math inline">\(t\)</span> so that the robot, at any time <span class="math inline">\(t\)</span>, can look up where it is supposed to be, what its velocity should be, and how that velocity should be changing in time (acceleration).</p>
<p>One strategy is to construct the functions as piecewise linear functions of <span class="math inline">\(t\)</span>, like this:</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:piecewise-linear-path"></span>
<img src="MOSAIC-Calculus_files/figure-html/piecewise-linear-path-1.png" alt="Two functions $x(t)$ and $y(t)$ which describe the path shown in Figure \@ref(fig:robot-points)." width="90%" />
<p class="caption">
Figure 33.2: Two functions <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> which describe the path shown in Figure <a href="data-driven-functions.html#fig:robot-points">33.1</a>.
</p>
</div>
<p>It can be difficult at first glance to see the relationship between the <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> functions and the path shown in <a href="data-driven-functions.html#fig:robot-points">33.1</a>. As an exercise, look specifically at the segment <span class="math inline">\(9 \leq t \leq 10\)</span>. In Figure <a href="data-driven-functions.html#fig:piecewise-linear-path">33.2</a>, this is the segment connecting points 9 and 10. In the path view, you can see that on this segment <span class="math inline">\(x\)</span> changes a lot while <span class="math inline">\(y\)</span> changes only a little. Correspondingly, in the function view (Figure <a href="data-driven-functions.html#fig:piecewise-linear-path">33.2</a>) <span class="math inline">\(\partial_t x(t)\)</span> is large in magnitude compared to <span class="math inline">\(\partial_t y(t)\)</span>.</p>
<p>Each functions shown in <a href="data-driven-functions.html#fig:piecewise-linear-path">33.2</a> is an <strong><em>interpolating function</em></strong>. You’re entitled to think of the <span class="math inline">\(x(t)\)</span> function as connecting with lines the sequence of <span class="math inline">\(x\)</span> versus <span class="math inline">\(t\)</span> coordinates from the table and similarly for <span class="math inline">\(y(t)\)</span>. Each of the two functions is clearly continuous. But, based on your work in Blocks 1 through 3, you have a richer set of concepts for interpreting those two functions.</p>
<p>For instance, let’s look at <span class="math inline">\(\partial_t y(t)\)</span>. Since <span class="math inline">\(y\)</span> is a position along the cross rail, <span class="math inline">\(\partial_t y(t)\)</span> is the velocity in that direction. Figure <a href="data-driven-functions.html#fig:y-velocity">33.3</a> shows the velocity versus time for both the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> components of the movement.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:y-velocity"></span>
<img src="MOSAIC-Calculus_files/figure-html/y-velocity-1.png" alt="Velocity versus time time along the path defined by $x(t)$ and $y(t)$ as shown in Figure \@ref(fig:piecewise-linear-path)," width="90%" />
<p class="caption">
Figure 33.3: Velocity versus time time along the path defined by <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> as shown in Figure <a href="data-driven-functions.html#fig:piecewise-linear-path">33.2</a>,
</p>
</div>
<p>The speed of the robot arm maxes out at about 600 mm-per-second. You can get a sense for this by moving your finger two feet in 1 second: a normal human speed of movement.</p>
<p>Since the original <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> functions are piecewise linear, it makes sense that the derivatives with respect to time are piecewise constant. But the robot hand is a physical thing; it has to have a velocity at every instant in time. It can’t instantaneously have an undefined velocity.</p>
<p>Think about what it is that causes the change from one velocity step to another. There’s a motor that’s spinning and changing its rate of spin, perhaps using a pulley and a belt to move the robot hand to the right position at any instant of time. Changing the velocity requires a <strong>force</strong> to create an acceleration. We can differentiate the velocity to see what the acceleration must be to create the simple piecewise linear function shown in Figure <a href="data-driven-functions.html#fig:piecewise-linear-path">33.2</a>.</p>
<p><img src="MOSAIC-Calculus_files/figure-html/x-acceleration-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Mathematically, the second derivatives <span class="math inline">\(\partial_{tt} x(t)\)</span> and <span class="math inline">\(\partial_{tt} y(t)\)</span> do not exist, because <span class="math inline">\(\partial_{t} x(t)\)</span> and <span class="math inline">\(\partial_{t} y(t)\)</span> are discontinuous. There is no physical amount of force that will change the velocity in an instant.</p>
<p>As an accommodation to the physical existence of the robot hand, we’ve softened the transition between consecutive velocity segments to allow it to take 0.2 seconds, ramping up from zero force 0.1 second before the hand reaches the station, to maximum force at the station, then back down to zero 0.1 second after the hand reaches the station. Consequently the actual motion is smoother and the maximum acceleration is about half that of gravity. Figure <a href="data-driven-functions.html#fig:ramp-force">33.4</a> shows the resulting trajectory which can be likened to that of a baseball player rounding a base.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ramp-force"></span>
<img src="MOSAIC-Calculus_files/figure-html/ramp-force-1.png" alt="A smoothed x-trajectory near station 2. The position of the station is marked with a dot." width="90%" />
<p class="caption">
Figure 33.4: A smoothed x-trajectory near station 2. The position of the station is marked with a dot.
</p>
</div>
<p>A consequence of smoothing the trajectory is that the robot hand comes near, but doesn’t actually touch the station. It misses by about 2 mm. For many human tasks that might be good enough, but for precision manufacturing a miss by 2 mm is about 1000 times more than allowed.</p>
<p>If you like working with practical problems, you might find a simple solution to the problem. For instance, we could have aimed the robot hand 2 mm further to the right than the actual station. In falling short by 2mm, the hand would miss the new target but cross right over the originally intended station.</p>
<p>Solutions like this ae sometimes called <strong><em>ad hoc</em></strong>, meaning that they are so specifically tailored to one situation that they do not generalize well to slightly different problems. The next section introduces an approach that is much more general.</p>
</div>
<div id="piecewise-but-smooth" class="section level2" number="2.2">
<h2><span class="header-section-number">33.2</span> Piecewise but smooth</h2>
<p>The approach we will take to smoothly connect the points on the path is based on ideas of derivatives and on the construction of low-order polynomials. In Block 2, we emphasized low-order polynomials up to the square term, and we’ll pick that up again here for demonstration purposes. For this example, we’ll construct only the <span class="math inline">\(y(t)\)</span> function. Constructing <span class="math inline">\(x(t)\)</span> would be done using exactly the same procedure.</p>
<p>Our task is to find a function <span class="math inline">\(y(t)\)</span> to interpolate discrete points such as those shown in Figure <a href="data-driven-functions.html#fig:quadratic-spline">33.5</a>. The discrete points are called <strong><em>knots</em></strong><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> in the language of interpolating functions. Each knot is a coordinate pair <span class="math inline">\((t_i, y(t_i))\)</span> shown as an orange dot in Figure <a href="data-driven-functions.html#fig:quadratic-spline">33.5</a>.</p>
<p>The piecewise linear interpolating function is easily constructed and is shown as a dotted curve. As we saw in the previous section, such a function has a discontinuous first derivative. We would like something smoother, with a <strong>continuous</strong> first derivative. A curve such as the one we seek is shown as the multi-colored function.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:quadratic-spline"></span>
<img src="MOSAIC-Calculus_files/figure-html/quadratic-spline-1.png" alt="Two interpolating functions of the four discrete points (orange). One is piecewise linear (dotted curve), the other is piecewise quadratic (multi-color curve)." width="90%" />
<p class="caption">
Figure 33.5: Two interpolating functions of the four discrete points (orange). One is piecewise linear (dotted curve), the other is piecewise quadratic (multi-color curve).
</p>
</div>
<p>The framework we will adopt for the smooth interpolating function is piecewise quadratic segments between adjacent knots. There are four knots, requiring three segments. We’ll call the segment <span class="math inline">\(p_1(y)\)</span> connecting the first knot to the second, with <span class="math inline">\(p_2(y)\)</span> connecting the second to the third knot and <span class="math inline">\(p_3(y)\)</span> connecting the third to the fourth knot. Each of those segments will be a second-order polynomial. To keep things organized, we’ll use coefficient names systematically:</p>
<p><span class="math display">\[p_1(t) \equiv a_1 + b_1 \left[t - t_1\right] + c_1 \left[t - t_1\right]^2\\
p_2(t) \equiv a_2 + b_2 \left[t - t_2\right] + c_2 \left[t - t_2\right]^2\\
p_3(t) \equiv a_3 + b_3 \left[t - t_3\right] + c_3 \left[t - t_3\right]^2\\\]</span>
The four knots are
<span class="math display">\[\left[\begin{array}{c}\left(t_1, x_1\right)\\
\left(t_2, y_2\right)\\
\left(t_3, y_3\right)\\
\left(t_4, y_4\right)\\
\end{array}\right]\]</span> which you can think of as two columns of a data frame, one with the <span class="math inline">\(t\)</span>-coordinates of the knots and the other with the <span class="math inline">\(y\)</span>-coordinates. For the knots in Figure <a href="data-driven-functions.html#fig:quadratic-spline">33.5</a> the data table is</p>
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
t
</th>
<th style="text-align:right;">
y
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2.0
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.5
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1.7
</td>
</tr>
</tbody>
</table>
<p>Constructing the interpolating function is a matter of making good choices for <span class="math inline">\(a_1,\)</span> <span class="math inline">\(a_2,\)</span> <span class="math inline">\(a_3,\)</span> <span class="math inline">\(b_1,\)</span> <span class="math inline">\(b_2,\)</span> <span class="math inline">\(b_3,\)</span> <span class="math inline">\(c_1,\)</span> <span class="math inline">\(c_2,\)</span> and <span class="math inline">\(c_3\)</span>.</p>
<p>We require these things of each of the interpolating polynomials:</p>
<ol style="list-style-type: decimal">
<li>It passes exactly through the two knots marking the segment’s endpoints. That is <span class="math inline">\(p_1(t_1) = y_1\)</span> and <span class="math inline">\(p_1(t_2) = y_2 = p_2(t_2)\)</span> and <span class="math inline">\(p_2(t_3) = y_3 = p_3(t_3)\)</span> and, finally, <span class="math inline">\(p_3(t_4) = y_4\)</span>. Note that at the interior knots where two polynomials join, the left-hand polynomial and the right-hand polynomial should exactly match the function value and each other.</li>
<li>The derivative (with respect to <span class="math inline">\(t\)</span>) should match where the segments join. That is, <span class="math inline">\(\partial_t p_1(t_1) = \partial_t p_2(t_2)\)</span> and <span class="math inline">\(\partial_t p_2(t_3) = \partial_t p_3(t_3)\)</span>. Thus, the function we want to build will be <span class="math inline">\(C^1\)</span>, that is, have a continuous first derivative.</li>
</ol>
<p>How to accomplish (1) and (2)?</p>
<p>Notice first that because we wrote each of the polynomials in the style of Taylor polynomials, we can read the values of <span class="math inline">\(a_1\)</span>, <span class="math inline">\(a_2\)</span>, and <span class="math inline">\(a_3\)</span> directly from the data table: <span class="math display">\[p_1(t_1) = a_1 = y_1\\p_2(t_2) = a_2 = y_2\\p_3(t_3) = a_3 = y_3\\\]</span></p>
<p>We can find other coefficients from the requirement that the right side of each segment pass through the knot on that side. This gives:</p>
<p><span class="math display">\[p_1(t_2) = y_2 = a_1 + b_1 \left[t_2-t_1\right] + c_1\left[t_2-t_1\right]^2\\
p_2(t_c) = y_3 = a_2 + b_2 \left[t_3-t_2\right] + c_2\left[t_3-t_2\right]^2\\
p_3(t_c) = y_4 = a_3 + b_3 \left[t_4-t_3\right] + c_3\left[t_4-t_3\right]^2\]</span>
(Notice that <span class="math inline">\(t_2 - t_1\)</span> and the like are simply numbers that can be computed from the known knot points.)</p>
<p>Another two conditions are that the derivatives of the polynomials from either side of each interior knot point must match at the knot point. Finding the derivatives of the segments is a simple exercise:</p>
<p><span class="math display">\[\partial_t p_1(t) = b_1 + 2 c_1 \left[t - t_1\right]\\
\partial_t p_1(t) = b_2 + 2 c_2 \left[t - t_2\right]\\
\partial_t p_1(t) = b_3 + 2 c_3 \left[t - t_3\right]\]</span>
Matching these derivatives at the <span class="math inline">\(t_2\)</span> and <span class="math inline">\(t_3\)</span> knot points—the interior knots where two segments come together—gives two more equations:
<span class="math display">\[
\partial_t p_1(t_2) = b_1 + 2 c_1 \left[t_2 - t_1\right] = b_2 = \partial_t p_2(t_2)\\
\partial_t p_2(t_3) = b_2 + 2 c_2 \left[t_3 - t_2\right] = b_3 = \partial_t p_3(t_3) \]</span>
All together, we have <strong>five</strong> equations in <strong>six</strong> unknowns: <span class="math inline">\(b_1, b_2, b_3\)</span> and <span class="math inline">\(c_1, c_2, c_3\)</span>.</p>
<p>Plugging in the specific values <span class="math inline">\(t_1\)</span> through <span class="math inline">\(t_4\)</span>, and <span class="math inline">\(x_1\)</span> through <span class="math inline">\(x_4\)</span> from the data table translates the equations for the polynomial values and derivatives gives this system of equations:
<span class="math display">\[
b_1 + c_1 = x_2 - x_1 = \ \ \ \ \ \ 2\\
b_2 + c_2 = x_3 - x_2 = -1.5\\
b_3 + c_3 = x_4 - x_3= \ \ 1.2\\
b_1 + 2 c_1 - b_2 = 0\\
b_2 + 2 c_2 - b_3 = 0\]</span></p>
<p>This is not the place to go into the details of solving the five equations to find the six unknowns. (Block 5 introduces the mathematics of such things, which turns out to the same math used to find model parameters to “fit” data.)
But there are some simple things to say about the task.</p>
<p>First, you may recall being told in high-school mathematics that to find six unknowns you need six equations. We have only five equations to work with. But it is far from true that there is no solution for six unknowns with five equations. There are in fact an <em>infinite</em> number of solutions. (Again, Block 5 will show the mathematics behind this statement.) Essentially, all we need to do is make up a sixth equation to identify a particular one of the infinite number of solutions. It’s nice if this made-up equation reflects something interpretable about the curve.</p>
<p>We’ll choose to have the sixth equation specify what the derivative of the interpolating function should be at the far right end of the graph. That right-most derivative value will be <span class="math display">\[\partial_t p_3(t_4) = b_3 + 2 c_3 \left[t_4 - t_3\right]\ .\]</span>
We can set this value to anything we like. For instance, in Figure <a href="data-driven-functions.html#fig:quadratic-spline">33.5</a> the right-most derivative is set to zero; you can see this from the curve being flat at the right-most knot point.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:four-quads"></span>
<img src="MOSAIC-Calculus_files/figure-html/four-quads-1.png" alt="Four different $C^1$ piecewise quadratic functions that interpolate the knot points. The functions have different values of the derivative at the right end of the domain." width="90%" />
<p class="caption">
Figure 33.6: Four different <span class="math inline">\(C^1\)</span> piecewise quadratic functions that interpolate the knot points. The functions have different values of the derivative at the right end of the domain.
</p>
</div>
<p>Keeping in mind the piecewise nature of the interpolating polynomial, it may seem surprising that changing the slope at <span class="math inline">\(t_4\)</span> leads to a change in value of the function almost everywhere. Yet the <strong>stiffness</strong> of the parabolic segments means that conditions in one segment have an impact on adjacent segments. In turn, the segments adjacent to these also change, a change that percolates down to every segment in turn.</p>
<div class="rmosaic">
<p>Quadratic spline functions can be created with the R/mosaic <code>qspliner()</code> function. The second argument is a data frame giving the knot locations. The first argument is a tilde expression specifying the variables to use from the data frame.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-driven-functions.html#cb8-1" aria-hidden="true" tabindex="-1"></a>xfun <span class="ot">&lt;-</span> <span class="fu">qspliner</span>(x <span class="sc">~</span> t, <span class="at">data =</span> Zcalc<span class="sc">::</span>Robot.stations)</span>
<span id="cb8-2"><a href="data-driven-functions.html#cb8-2" aria-hidden="true" tabindex="-1"></a>yfun <span class="ot">&lt;-</span> <span class="fu">qspliner</span>(y <span class="sc">~</span> t, <span class="at">data =</span> Zcalc<span class="sc">::</span>Robot.stations)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:qspline-x"></span>
<img src="MOSAIC-Calculus_files/figure-html/qspline-x-1.png" alt="A quadratic spline interpolation of the $x$-coordinates of the robot-path knots. The data hardly speak for themselves, since the interpolationg function tends to alternate between concave up and concave down in adjacent segments between the knots." width="90%" />
<p class="caption">
Figure 33.7: A quadratic spline interpolation of the <span class="math inline">\(x\)</span>-coordinates of the robot-path knots. The data hardly speak for themselves, since the interpolationg function tends to alternate between concave up and concave down in adjacent segments between the knots.
</p>
</div>
</div>
<p>Putting together the <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> interpolating functions, each of which has that extremum between knot points, leads to an absurdly complicated path, as seen in Figure <a href="data-driven-functions.html#fig:quad-robot-points-quad">33.8</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:quad-robot-points-quad"></span>
<img src="MOSAIC-Calculus_files/figure-html/quad-robot-points-quad-1.png" alt="Connecting the robot-path knots with a piecewise quadratic polynomial, constructed to be $C^1$. The path is pretty perhaps, but absurd." width="90%" />
<p class="caption">
Figure 33.8: Connecting the robot-path knots with a piecewise quadratic polynomial, constructed to be <span class="math inline">\(C^1\)</span>. The path is pretty perhaps, but absurd.
</p>
</div>
<p>Quadratic splines are rarely used in practice. (A <strong><em>cubic spline</em></strong> provides helpful flexibility. See Section <a href="data-driven-functions.html#cubic-splines">33.3</a>.) In Figure <a href="data-driven-functions.html#fig:qspline-x">33.7</a> you can see one of the reasons: the quadratic form is so <strong><em>stiff</em></strong> that the interpolating function tends to shift from concave up to concave down (or vice versa) at each knot point. This results in the interpolating function tending to have a local minimum or maximum <em>between</em> adjacent knots, even if the data themselves to not indicate such a structure.</p>
</div>
<div id="cubic-splines" class="section level2" number="2.3">
<h2><span class="header-section-number">33.3</span> C<sup>2</sup> smooth functions</h2>
<p>In the previous section, we arranged the functions <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> composed from the piecewise quadratic segments to be <span class="math inline">\(C^1\)</span> smooth. (Recall that <span class="math inline">\(C^1\)</span> smooth means that the derivatives <span class="math inline">\(\partial_t x(t)\)</span> and <span class="math inline">\(\partial_t y(t)\)</span> are continuous.) We established this continuity by make sure that each segment has a value of the derivative at its end-point know that matches the derivative of the adjacent segment.</p>
<p>To arrange <span class="math inline">\(C^2\)</span> continuity requires that the segment include a new parameter. Most commonly, this is done by moving from quadratic segments to <strong><em>cubic segments</em></strong>. This can be done by an approach similar to that of the previous section but somewhat more elaborate. Such a <span class="math inline">\(C^2\)</span> interpolating function is called a <strong><em>cubic spline</em></strong>. Cubic splines are very commonly encountered in applications requiring interpolation.</p>
<p>With the ability to match piecewise cubic polynomials to a set of knots, we can easily construct the smooth path to connect the knots in <a href="data-driven-functions.html#fig:robot-points">33.1</a>. Figure <a href="data-driven-functions.html#fig:smooth-robot-points">33.9</a> shows a <span class="math inline">\(C^2\)</span> path connecting the knots. The path is constructed by plotting simultaneously the output of two functions, <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span>, with the input <span class="math inline">\(t\)</span> on the domain <span class="math inline">\(1 \leq t \leq 16\)</span>.</p>
<div class="rmosaic">
<p>Cubic spline functions can be created with the R/mosaic <code>spliner()</code> function. The second argument is a data frame giving the knot locations. The first argument is a tilde expression specifying the variables to use from the data frame.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="data-driven-functions.html#cb9-1" aria-hidden="true" tabindex="-1"></a>xfun <span class="ot">&lt;-</span> <span class="fu">spliner</span>(x <span class="sc">~</span> t, <span class="at">data =</span> Zcalc<span class="sc">::</span>Robot.stations)</span>
<span id="cb9-2"><a href="data-driven-functions.html#cb9-2" aria-hidden="true" tabindex="-1"></a>yfun <span class="ot">&lt;-</span> <span class="fu">spliner</span>(y <span class="sc">~</span> t, <span class="at">data =</span> Zcalc<span class="sc">::</span>Robot.stations)</span></code></pre></div>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:smooth-robot-points"></span>
<img src="MOSAIC-Calculus_files/figure-html/smooth-robot-points-1.png" alt="Connecting the robot-path knots with a piecewise cubic polynomial, constructed to be $C^2$. This is a much smoother  path than produced by interpolation with quadratic polynomials." width="90%" />
<p class="caption">
Figure 33.9: Connecting the robot-path knots with a piecewise cubic polynomial, constructed to be <span class="math inline">\(C^2\)</span>. This is a much smoother path than produced by interpolation with quadratic polynomials.
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:cubic-spline-x"></span>
<img src="MOSAIC-Calculus_files/figure-html/cubic-spline-x-1.png" alt="A cubic spline interpolation of the $x$-coordinates of the robot-path knots. The cubic spline respects the monotonicity of consecutive knot points." width="90%" />
<p class="caption">
Figure 33.10: A cubic spline interpolation of the <span class="math inline">\(x\)</span>-coordinates of the robot-path knots. The cubic spline respects the monotonicity of consecutive knot points.
</p>
</div>
</div>
<div id="bézier-splines" class="section level2" number="2.4">
<h2><span class="header-section-number">33.4</span> Bézier splines</h2>
<p>The sort of interpolating functions described in the previous two sections were designed to be smooth at the <span class="math inline">\(C^1\)</span> level (quadratic spline) or the <span class="math inline">\(C^2\)</span> level (cubic spline). Such smoothness makes sense for, say, robotic motion where we want at all times to keep the force on each robot joint small.</p>
Not all path-related design problems require such smoothness. Indeed, in some settings, non-smoothness is called for. For instance, Figure <a href="data-driven-functions.html#fig:letter-e">33.11</a> shows the outline of a familiar shape
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:letter-e"></span>
<img src="www/bezier-e.png" alt="The outline of a letter in a computer font is often specified by a series of knot points (red dots). The path passes smoothly through some of the knot points, but has a discontinuous derivative at others." width="60%" />
<p class="caption">
Figure 33.11: The outline of a letter in a computer font is often specified by a series of knot points (red dots). The path passes smoothly through some of the knot points, but has a discontinuous derivative at others.
</p>
</div>
<p>For both quadratic and the more commonly used cubic splines, matching the derivatives on either side of a knot is essential to constructing the function. For Bézier splines, each segment is mathematically independent from every other segment. It is up to the human designer of the curve to determine whether the curves derivative should be continuous or discontinuous at the knot point between two segments.</p>
<p>The shape of a Bézier spline segment is established by four independent points. The first and last points determine the endpoints of the segment. Each endpoint is associated with a <strong><em>control point</em></strong> that sets the angle and “speed” with which the path leaves or enters the endpoint. You can interact with the graph in Figure <a href="data-driven-functions.html#fig:bezier-1">33.12</a> to develop an intuition.</p>
<p align="center">
<iframe width="540" height="540" src="www/b-new.svg?a=0.3,0.2,0.5,0.5,0.8,0.4,0.9,0.7&amp;b=-100,-100,-100,-100&amp;c=-100,-100,-100,-100&amp;animate=0">
</iframe>
</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bezier-1"></span>
<img src="www/tiny-blank.png" alt="A single Bézier segment is defined by two endpoints and two control points. Drag the control points to see how the shape of the curve is defined by them." width="1%" />
<p class="caption">
Figure 33.12: A single Bézier segment is defined by two endpoints and two control points. Drag the control points to see how the shape of the curve is defined by them.
</p>
</div>
<p>The curve for a given segment is gratifyingly smooth. The real power of Bézier splines stems from how segments can be connected in various ways. Figure <a href="data-driven-functions.html#fig:bezier-2">33.13</a> shows two Bézier segments that have been initialized to have a smooth junction at endpoints 4 and 5. The smoothness is set by the corresponding control points (marked 3 and 6). So long as those four points (3, 4, 5, 6) are colinear and in order, the junction will be smooth. You can alter control points 2 and 7 in any way you like; the junction will remain smooth.</p>
<p align="center">
<iframe width="540" height="540" src="www/b-new.svg?a=.2,.2,.3,.3,.4,.4,.5,.5&amp;b=.5,.5,.7,.7,.8,.5,.9,.9&amp;c=-100,-100,-100,-100&amp;animate=0">
</iframe>
</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bezier-2"></span>
<img src="www/tiny-blank.png" alt="Two Bézier segments can be arranged in to create a smooth or non-smooth junction between them." width="1%" />
<p class="caption">
Figure 33.13: Two Bézier segments can be arranged in to create a smooth or non-smooth junction between them.
</p>
</div>
<p>Consider the path followed by a Bézier curve as it leaves one of the endpoints. Figure <a href="data-driven-functions.html#fig:bezier-2">33.13</a> has been initialized so that the tangent to the curve is horizontal at the right endpoint and almost vertical at the left endpoint. The further the control point is from the endpoint, the longer the Bézier curve will stay close to the tangent line. Another way to think of this is that the position of a control point has little impact on the shape of the curve near the opposite endpoint. You can observe this on the canvas by, say, moving control point 2 and observing the relatively little change near endpoint 4.</p>
<p align="center">
<iframe width="540" height="540" src="www/b-new.svg?a=0.1,0.1,0.1,0.9,0.7,0.1,0.9,0.1&amp;b=-100,-100,-100,-100&amp;c=-100,-100,-100,-100&amp;animate=0">
</iframe>
</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:bezier-3"></span>
<img src="www/tiny-blank.png" alt="A Bézier curve leaves each endpoint in a direction that is tangent to the line drawn between the endpoint and its control point." width="1%" />
<p class="caption">
Figure 33.14: A Bézier curve leaves each endpoint in a direction that is tangent to the line drawn between the endpoint and its control point.
</p>
</div>
<p>Algebraically, each Bézier segement is a pair of cubic functions, <span class="math inline">\(x(t)\)</span> for the x-coordinate and <span class="math inline">\(y(t)\)</span> for the y-coordinate. The input <span class="math inline">\(t\)</span> varies between 0 and 1 for each segment. The coordinate pair <span class="math inline">\(\left({\large\strut} x(0), y(0)\right)\)</span> is one endpoint of the curve, while <span class="math inline">\(\left({\large\strut} x(1), y(1)\right)\)</span>. Each intermediate value of <span class="math inline">\(t\)</span> corresponds to a point on the interior of the curve.</p>
<p>The <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> functions have the same form, the difference between the functions being only the values of the end values (<span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_4\)</span> for the <span class="math inline">\(x(t)\)</span> function, and similarly <span class="math inline">\(y_1\)</span> and <span class="math inline">\(y_4\)</span> for the <span class="math inline">\(y(t)\)</span> function), as well as the control-point values (<span class="math inline">\(x_2\)</span> and <span class="math inline">\(x_3\)</span> for one function, <span class="math inline">\(y_2\)</span> and <span class="math inline">\(y_3\)</span> for the other.)</p>
<p><span class="math display">\[x(t) = (1-t)^3\, x_1 + 3(1-t)^2 t\, x_2 + 3(1-t) t^2\, x_3 + t^3\, x_4\\\text{and}\\
y(t) = (1-t)^3\, y_1 + 3(1-t)^2 t\, y_2 + 3(1-t) t^2\, y_3 + t^3\, y_4\]</span></p>
<div class="intheworld">
<p>Before the advent of digital design and manufacturing, smooth curves were described by clay or wooden models hand-crafted by skilled workers. Material was removed to conform to the models by machine tools directed by cams running over the models, by hand sanding and polishing, as shown in this video of propeller manufacture during World War II.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/BwU9quwgYRo?start=190" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Spline functions and digital actuators have largely replaced such analog models.</p>
</div>
</div>
<div id="exercises-1" class="section level2" number="2.5">
<h2><span class="header-section-number">33.5</span> Exercises</h2>
<details>
<summary>
<strong>Exercise 33.01</strong>: <span><a name="File: Exercises/ash-fly-canoe.Rmd" href="#DP2hxD"><img src="www/icons8-signpost.png" title="Location: Exercises/ash-fly-canoe.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">DP2hxD</red></span>
</summary>
<p>These questions are just about R/mosaic code reading skills. They refer to the chapter example about Kepler’s analysis of the orbit of Mars.</p>
<p><strong>Question A</strong> The data are stored in an object named <code>Kepler</code>. What kind of object is <code>Kepler</code>?</p>
<p>    <span class="Zchoice">A data frame<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">A matrix<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">A vector<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">A function<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question B</strong> There are two variables from Kepler’s data used in the code. What are their names?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice"><code>time</code> and <code>angle</code><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><code>distance</code> and <code>angle</code><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><code>kepler.radius</code> and <code>kepler.angle</code><span class="mcanswer">Right! </span></span><br />
</li>
<li><span class="Zchoice"><code>kepler.distance</code> and <code>kepler.angle</code><span class="mcanswer">︎✘ </span></span></li>
</ol>
<p><strong>Question C</strong> The object <code>connector</code> is defined on lines 2 and 3 of the sandbox code. What kind of R object is <code>connector</code>? (Hint, you may need to read further along in the code to figure this out.)</p>
<p>    <span class="Zchoice">A data frame<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">A number<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">A vector<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">A function<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span></p>
<p><strong>Question D</strong> What kind of R object is <code>kepler.radius ~ kepler.angle</code>?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">A tilde expression<span class="mcanswer">Nice! </span></span><br />
</li>
<li><span class="Zchoice">An arithmetic expression<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">A function<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">A character string<span class="mcanswer">︎✘ Character strings always involve quotation marks.</span></span>
<strong>Question E</strong> The R function <code>gf_point()</code> as used here has how many arguments?</li>
</ol>
<p>    <span class="Zchoice">1<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">3<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">4<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question F</strong> What’s the give away that <code>polynomial</code> (as used here) is a <strong>function</strong>?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">The name <code>polynomial</code> is followed by open and close parentheses.<span class="mcanswer">Right! </span></span><br />
</li>
<li><span class="Zchoice">The name <code>polynomial</code> begins with a <code>p</code>.<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">The name <code>polynomial</code> is an English verb.<span class="mcanswer">︎✘ This is a nice programming style to use natural-language verbs to name functions, but it is not at all required by the language. (And “polynomial” isn’t a verb anyway.)</span></span></li>
</ol>
<p><strong>Question G</strong> Why are there quotation marks in <code>'red'</code>?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">Because the color is only sort of red-ish, not pure red.<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">Because Mars is the “Red Planet”<span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice">Because the word is a literal set of characters, not the name of a function or other R object.<span class="mcanswer">Excellent! </span></span></li>
</ol>
</details>
<details>
<summary>
<strong>Exercise 33.03</strong>: <span><a name="File: Exercises/spruce-wear-drawer.Rmd" href="#zp4ely"><img src="www/icons8-signpost.png" title="Location: Exercises/spruce-wear-drawer.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">zp4ely</red></span>
</summary>
<p>There can be many ways to describe a given path using <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> functions. Your task in this problem is to construct a few such paths connecting points 10 and 11 in Figure <a href="data-driven-functions.html#fig:robot-points">33.1</a>.</p>
<p>To start, draw a pair of coordinate axes: one for <span class="math inline">\(x\)</span> versus <span class="math inline">\(t\)</span> and the other for <span class="math inline">\(y\)</span> versus <span class="math inline">\(t\)</span>. For both, arrange the domain for <span class="math inline">\(t\)</span> to be <span class="math inline">\(10 \leq t \leq 11\)</span>. The range of the vertical axis for the <span class="math inline">\(x\)</span> versus <span class="math inline">\(t\)</span> frame should cover the <span class="math inline">\(x\)</span>-component of the path from point 10 to 11, and similarly for the range of the vertical axis for <span class="math inline">\(y\)</span>.</p>
<p><strong>Task A</strong></p>
<p>On your axes, sketch the graphs of <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> that will construct a constant-velocity path starting from point 10 at <span class="math inline">\(t=10\)</span> and reaching point 11 at <span class="math inline">\(t=11\)</span>. (The term “constant-velocity” has a specific technical meaning. Recall that the <span class="math inline">\(x\)</span>-component of velocity will be <span class="math inline">\(\partial_t x(t)\)</span> and similarly for the <span class="math inline">\(y\)</span>-component.)</p>
<p><strong>Task B</strong></p>
<p>On the same coordinate axes, graph new functions <span class="math inline">\(x_2(t)\)</span> and <span class="math inline">\(y_2(t)\)</span> arranged such that at time <span class="math inline">\(t=10.1\)</span>, a position halfway between points 10 and 11 has been reached; at time <span class="math inline">\(10.2\)</span> a position half of the remaining distance to point 11 is reached; at time <span class="math inline">\(10.3\)</span> a point half of the remaining distance to 11 is reached; and so on until point 11 is reached at <span class="math inline">\(t=11\)</span>.</p>
<p><strong>Task C</strong></p>
Again on the same coordinate axes (or new ones, if your graphs have become too crowded), graph new functions <span class="math inline">\(x_3(t)\)</span> and <span class="math inline">\(y_3(t)\)</span> such that the position along the path varies smoothly from point 10 at time <span class="math inline">\(t=10\)</span> to point 11 at time <span class="math inline">\(t=11\)</span>, but the motion briefly comes to a halt halfway along the path, then starts up again. (Note that “smoothly” has a technical meaning.)
</details>
<details>
<summary>
<strong>Exercise 33.05</strong>: <span><a name="File: Exercises/ant-lend-scarf.Rmd" href="#MQ1rZa"><img src="www/icons8-signpost.png" title="Location: Exercises/ant-lend-scarf.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">MQ1rZa</red></span>
</summary>
<p>Referring to the quadratic spline interpolating functions in Figure <a href="data-driven-functions.html#fig:four-quads">33.6</a>, note that the different functions all go through the knots. The difference between them is the derivative at <span class="math inline">\(t=4\)</span>. Reading from the graphs, say what the slope <span class="math inline">\(\partial_t x(t)\left.{\Large\strut}\right|_{t=4}\)</span> is in each of the graphs:</p>
<p><strong>Question A</strong> What is <span class="math inline">\(\partial_t x(t)\left.{\Large\strut}\right|_{t=4}\)</span> for the function in panel A?</p>
<p>    <span class="Zchoice">-9<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">-5<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">-2<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">-1<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question B</strong> What is <span class="math inline">\(\partial_t x(t)\left.{\Large\strut}\right|_{t=4}\)</span> for the function in panel B?</p>
<p>    <span class="Zchoice">-9<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">-5<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">-2<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">-1<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span></p>
<p><strong>Question C</strong> What is <span class="math inline">\(\partial_t x(t)\left.{\Large\strut}\right|_{t=4}\)</span> for the function in panel C?</p>
<p>    <span class="Zchoice">1<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">5<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">9<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question D</strong> What is <span class="math inline">\(\partial_t x(t)\left.{\Large\strut}\right|_{t=4}\)</span> for the function in panel D?</p>
<p>    <span class="Zchoice">1<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">2<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">5<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">9<span class="mcanswer">︎✘ </span></span></p>
</details>
<details>
<summary>
<strong>Exercise 33.07</strong>: <span><a name="File: Exercises/fish-swim-socks.Rmd" href="#1YWZht"><img src="www/icons8-signpost.png" title="Location: Exercises/fish-swim-socks.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">1YWZht</red></span>
</summary>
<p>The drawing canvas has been initialized with two Bezier segments. Your task is to re-arrange the endpoints and control points to create a single stroke that resembles the lower-case character “e”. On your homework paper, sketch out the resulting curve and mark the locations of the control points that generated it.</p>
<p align="center">
<iframe width="540" height="540" src="b-new.svg?a=.2,.2,.3,.3,.4,.4,.5,.5&amp;b=.5,.5,.7,.7,.8,.5,.9,.9&amp;c=-100,-100,-100,-100&amp;animate=0">
</iframe>
</p>
</details>
<details>
<summary>
<strong>Exercise 33.09</strong>: <span><a name="File: Exercises/horse-wake-stove.Rmd" href="#QQ4ulz"><img src="www/icons8-signpost.png" title="Location: Exercises/horse-wake-stove.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">QQ4ulz</red></span>
</summary>
<p>The two graphs below show the same set of knot points. The interpolating function in one graph is a cubic spline; in the other it is a quadratic spline.</p>
<p><img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-53-1.png" width="90%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li>Which plot shows the cubic spline?</li>
<li>What is it about the shapes of the two interpolating functions that motivated your answer to (1)?
</details></li>
</ol>
<details>
<summary>
<strong>Exercise 33.11</strong>: <span><a name="File: Exercises/chicken-cut-gloves.Rmd" href="#gryh1G"><img src="www/icons8-signpost.png" title="Location: Exercises/chicken-cut-gloves.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">gryh1G</red></span>
</summary>
Explain what it means to say, “The cubic spline respects the monotonicity of consecutive knot points,” in Figure <a href="data-driven-functions.html#fig:cubic-spline-x">33.10</a>.
</details>
<details>
<summary>
<strong>Exercise 33.13</strong>: <span><a name="File: Exercises/frog-spend-plate.Rmd" href="#0aGEKY"><img src="www/icons8-signpost.png" title="Location: Exercises/frog-spend-plate.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">0aGEKY</red></span>
</summary>
<p>The two graphs below show the same set of knot points. The interpolating function in each graph is either a quadratic or a cubic spline.
<img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-54-1.png" width="90%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li>There are three possibilities: both function A and function B are quadratic splines, both functions are cubic splines, or one is a quadratic and the other a cubic spline. Which of these is the case in the above graphs?</li>
<li>Explain what led you to your conclusion.</li>
</ol>
</details>
<details>
<summary>
<strong>Exercise 33.15</strong>: <span><a name="File: Exercises/frog-spend-plate2.Rmd" href="#hqLVA"><img src="www/icons8-signpost.png" title="Location: Exercises/frog-spend-plate2.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">hqLVA</red></span>
</summary>
<p>The two graphs below show the same set of knot points. The interpolating function in each graph is either a quadratic or a cubic spline.
<img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-55-1.png" width="90%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li>There are three possibilities: both function A and function B are quadratic splines, both functions are cubic splines, or one is a quadratic and the other a cubic spline. Which of these is the case in the above graphs?</li>
<li>Explain what led you to your conclusion.</li>
</ol>
</details>
<details>
<summary>
<strong>Exercise 33.17</strong>: <span><a name="File: Exercises/frog-spend-plate3.Rmd" href="#AYTrE"><img src="www/icons8-signpost.png" title="Location: Exercises/frog-spend-plate3.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">AYTrE</red></span>
</summary>
<p>The two graphs below show the same set of knot points. The interpolating function in each graph is either a quadratic or a cubic spline.
<img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-56-1.png" width="90%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li>There are three possibilities: both function A and function B are quadratic splines, both functions are cubic splines, or one is a quadratic and the other a cubic spline. Which of these is the case in the above graphs?</li>
<li>Explain what led you to your conclusion.</li>
</ol>
</details>
<details>
<summary>
<strong>Exercise 33.19</strong>: <span><a name="File: Exercises/reptile-stand-jacket.Rmd" href="#ZGG7SO"><img src="www/icons8-signpost.png" title="Location: Exercises/reptile-stand-jacket.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">ZGG7SO</red></span>
</summary>
<p>Consider a set of <span class="math inline">\(n\)</span> knot points <span class="math inline">\((t_i, x_i)\)</span> and imagine that you have two different spline functions, <span class="math inline">\(s_a(t)\)</span> and <span class="math inline">\(s_b(t)\)</span>, each of which passes through every one of the knot points.</p>
Under what conditions, if any, can a linear combination of <span class="math inline">\(s_a(t)\)</span> and <span class="math inline">\(s_b(t)\)</span> also be a spline function that passes through each of the knot points?
</details>
<details>
<summary>
<strong>Exercise 33.21</strong>: <span><a name="File: Exercises/rhinosaurus-mute-fridge.Rmd" href="#Vru4NQ"><img src="www/icons8-signpost.png" title="Location: Exercises/rhinosaurus-mute-fridge.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">Vru4NQ</red></span>
</summary>
<p>The drawing canvas has been populated with three Bézier segments. Connect and shape them to reproduce the shape of the airfoil shown below. Note that the airfoil surface smoothly rounds the leading edge but has a sharp junction at the trailing edge. Note also that the top and bottom surfaces are <strong>not symmetric</strong>.</p>
<p><img src="www/airfoil-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>Your task is to reproduce the airfoil shape using Bézier segments.</p>
<ol style="list-style-type: lower-roman">
<li>On your homework paper, sketch the shape you created, indicating clearly where the control points are for each segment.</li>
<li>If you were able to reproduce the airfoil shape using 1 or 2 Bézier segments your answer to (i) will suffice. If you need 3 segments, briefly explain what aspects of the airfoil shape required three segments.</li>
</ol>
<p align="center">
<iframe width="540" height="540" src="b-new.svg?a=.2,.1,.3,.1,.4,.1,.5,.1&amp;b=.5,.05,.7,05,.8,.05,.9,.05&amp;c=.3,.2,.4,.2,.5,.2,.6,.2&amp;animate=0">
</iframe>
</p>
</details>
<details>
<summary>
<strong>Exercise 33.23</strong>: <span><a name="File: Exercises/giraffe-trim-book.Rmd" href="#N6z7nD"><img src="www/icons8-signpost.png" title="Location: Exercises/giraffe-trim-book.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">N6z7nD</red></span>
</summary>
<p>In a Bézier spline, <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> can be interpreted as the <span class="math inline">\((x,y)\)</span> coordinate at time <span class="math inline">\(t\)</span> of a pen on the drawing canvas. Let’s take that interpretation literally and figure out some features of the pen’s motion. it’s reasonable to think about the pen in physical terms.</p>
<p>The <span class="math inline">\(x\)</span>-component of the pen as a function of time <span class="math inline">\(t\)</span> is <span class="math display">\[x(t) = (1-t)^3\, x_1 + 3(1-t)^2 t\, x_2 + 3(1-t) t^2\, x_3 + t^3\, x_4\]</span> where the domain is <span class="math inline">\(0 \leq t \leq 1\)</span>.</p>
<p>In terms of the coefficients <span class="math inline">\(x_1, x_2, x_3\)</span>, and <span class="math inline">\(x_4\)</span> ….</p>
<ol style="list-style-type: decimal">
<li>Where will the pen be at time <span class="math inline">\(t=0\)</span>?</li>
<li>Where will the pen be at time <span class="math inline">\(t=1\)</span>?</li>
<li>Consider the velocity <span class="math inline">\(\partial_t x(t)\)</span> of the pen. (We’re thinking of the <span class="math inline">\(x\)</span>- direction only. The pen will also have a <span class="math inline">\(y\)</span>-component of velocity.)
<ol style="list-style-type: lower-alpha">
<li>What is the velocity of the pen at <span class="math inline">\(t=0\)</span>, that is, what is <span class="math inline">\(\partial_t x(t=0)\)</span>? You should be able to give an algebraic form for this.</li>
<li>Imagine that the pen moved with constant initial velocity <span class="math inline">\(\partial_t x(t=0)\)</span>. (It doesn’t, but imagine that it does.) At what value of <span class="math inline">\(t\)</span>, if any, will the pen reach the <span class="math inline">\(x\)</span>-value <span class="math inline">\(x_2\)</span>?</li>
<li>Find the velocity of the pen at <span class="math inline">\(t=1\)</span>. Again, as in (a), you should be able to give an algebraic form for this.</li>
<li>Imagine the pen moving backwards in time from <span class="math inline">\(x(1) = x_4\)</span> at the velocity <span class="math inline">\(\partial_t x(t=1)\)</span>. At what time <span class="math inline">\(t &lt; 1\)</span>, if any, would the pen have been at value <span class="math inline">\(x_3\)</span>?</li>
</ol></li>
</ol>
<p>GIVE VELOCITY, …</p>
<img src="MOSAIC-Calculus_files/figure-html/x-curve-1.png" width="90%" style="display: block; margin: auto;" />
</details>
<details>
<summary>
<strong>Exercise 33.25</strong>: <span><a name="File: Exercises/doe-rise-vase.Rmd" href="#lbroLt"><img src="www/icons8-signpost.png" title="Location: Exercises/doe-rise-vase.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">lbroLt</red></span>
</summary>
<p>These equations describe the Bézier curve <span class="math inline">\(x(t)\)</span> and <span class="math inline">\(y(t)\)</span> functions on the domain <span class="math inline">\(0 \leq t \leq 1\)</span>:</p>
<p><span class="math display">\[x(t) = (1-t)^3\, x_1 + 3(1-t)^2 t\, x_2 + 3(1-t) t^2\, x_3 + t^3\, x_4\\\text{and}\\
y(t) = (1-t)^3\, y_1 + 3(1-t)^2 t\, y_2 + 3(1-t) t^2\, y_3 + t^3\, y_4\]</span></p>
<p>A. Cross out the terms that go to zero at <span class="math inline">\(t=0\)</span> and show that this ensures that <span class="math inline">\(x(t=0) = x_1\)</span> and <span class="math inline">\(y(t=0) = y_1\)</span>.</p>
B. Similarly, Cross out the terms that go to zero at <span class="math inline">\(t=1\)</span> and show that this ensures that <span class="math inline">\(x(t=1) = x_4\)</span> and <span class="math inline">\(y(t=1) = y_4\)</span>.
</details>
<details>
<summary>
<strong>Exercise 33.27</strong>: <span><a name="File: Exercises/monkey-keep-kitchen.Rmd" href="#PmYPik"><img src="www/icons8-signpost.png" title="Location: Exercises/monkey-keep-kitchen.Rmd" width="12px"/></a><span style="color: red; font-size: 9pt;">PmYPik</red></span>
</summary>
<p>In this exercise, you’re going to show that each of the Bezier spline functions<br />
<span class="math display">\[x(t) = (1-t)^3\, x_1 + 3(1-t)^2 t\, x_2 + 3(1-t) t^2\, x_3 + t^3\, x_4\\\text{and}\\
y(t) = (1-t)^3\, y_1 + 3(1-t)^2 t\, y_2 + 3(1-t) t^2\, y_3 + t^3\, y_4\]</span>
have a function graph that leaves the first value (<span class="math inline">\(x_1\)</span> or <span class="math inline">\(y_1\)</span>) and initially (<span class="math inline">\(t=0\)</span>) heads in a straight-line direction toward the first control point (<span class="math inline">\(x_2\)</span> or <span class="math inline">\(y_2\)</span>).</p>
<p>You already know that <span class="math inline">\(x(t=0) = x_1\)</span> and <span class="math inline">\(y(t=0) = y_2\)</span>.</p>
<p>A. Calculate the initial slopes <span class="math inline">\(\partial_t x(t)\left.{\Large\strut}\right|_{t=0}\)</span> and <span class="math inline">\(\partial_t y(t)\left.{\Large\strut}\right|_{t=0}\)</span>.</p>
B. Calculate the slope of a straight-line reaching from <span class="math inline">\((0, x_1)\)</span> to <span class="math inline">\(({\small\frac{1}{3}}, x_2)\)</span>. Show that this matches the slope <span class="math inline">\(\partial_t x(t)\left.{\Large\strut}\right|_{t=0}\)</span> and similarly for the <span class="math inline">\(y(t)\)</span> control points.
</details>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Called such possibly because the curves are tied together at each of the knots.<a href="data-driven-functions.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="operations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="optimization-and-constraint.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dtkaplan/MOSAIC-Calculus/shared/B4-splines.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/dtkaplan/MOSAIC-Calculus/shared/B4-splines.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
