<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 37 Probability | MOSAIC-Calculus.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 37 Probability | MOSAIC-Calculus.knit" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 37 Probability | MOSAIC-Calculus.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="solving-and-inverting.html"/>
<link rel="next" href="expectation.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<span class="math inline">
\(\newcommand{\line}{\text{line}}
\newcommand{\hump}{\text{hump}}
\newcommand{\sigmoid}{\text{sigmoid}}
\newcommand{\recip}{\text{recip}}
\newcommand{\diff}[1]{{\cal D}_#1}
\newcommand{\pnorm}{\text{pnorm}}
\newcommand{\dnorm}{\text{dnorm}}
\newcommand{\CC}[1]{\color{#648fff}{#1}}
\newcommand{\CE}[1]{\color{#785ef0}{#1}}
\newcommand{\CA}[1]{\color{#dc267f}{#1}}
\newcommand{\CB}[1]{\color{#fe6100}{#1}}
\newcommand{\CD}[1]{\color{#ffb000}{#1}}\)
</span>






<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="mosaic-calc-style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><span style="font-size: 150%;><strong><a href="">MOSAIC Calculus</a></strong></span></li>
<li><em><a>Calculus for the 21st century</a></em></li>
<li><a>Daniel Kaplan</a></li>
<hr>
<li><a href="../index.html">Welcome to calculus</li>
<li><a href="../block-1/change.html">Block 1: Functions & quantities</a></li>
<li><a href="../block-2/change-relationships.html">Block 2: Differentiation</a></li>
<li><a href="../block-3/change-accumulation.html">Block 3: Accumulation</a></li>
<li><strong><a href="../block-4/block4-intro-draft.html">Block 4: Manifestations</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="block4-intro-draft.html"><a href="block4-intro-draft.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="32" data-path="operations.html"><a href="operations.html"><i class="fa fa-check"></i><b>32</b> Operations on functions</a>
<ul>
<li class="chapter" data-level="32.1" data-path="operations.html"><a href="operations.html#task-solve"><i class="fa fa-check"></i><b>32.1</b> Task: Solve</a></li>
<li class="chapter" data-level="32.2" data-path="operations.html"><a href="operations.html#task-argmax"><i class="fa fa-check"></i><b>32.2</b> Task: Argmax</a></li>
<li class="chapter" data-level="32.3" data-path="operations.html"><a href="operations.html#task-iterate"><i class="fa fa-check"></i><b>32.3</b> Task: Iterate</a></li>
<li class="chapter" data-level="32.4" data-path="operations.html"><a href="operations.html#software-for-the-tasks"><i class="fa fa-check"></i><b>32.4</b> Software for the tasks</a></li>
<li class="chapter" data-level="32.5" data-path="operations.html"><a href="operations.html#algorithmic-techniques"><i class="fa fa-check"></i><b>32.5</b> Algorithmic techniques</a></li>
<li class="chapter" data-level="32.6" data-path="operations.html"><a href="operations.html#newtons-method"><i class="fa fa-check"></i><b>32.6</b> Newton’s method</a></li>
<li class="chapter" data-level="32.7" data-path="operations.html"><a href="operations.html#exercises"><i class="fa fa-check"></i><b>32.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="data-driven-functions.html"><a href="data-driven-functions.html"><i class="fa fa-check"></i><b>33</b> Data-driven functions</a>
<ul>
<li class="chapter" data-level="33.1" data-path="data-driven-functions.html"><a href="data-driven-functions.html#generating-smooth-motion"><i class="fa fa-check"></i><b>33.1</b> Generating smooth motion</a></li>
<li class="chapter" data-level="33.2" data-path="data-driven-functions.html"><a href="data-driven-functions.html#piecewise-but-smooth"><i class="fa fa-check"></i><b>33.2</b> Piecewise but smooth</a></li>
<li class="chapter" data-level="33.3" data-path="data-driven-functions.html"><a href="data-driven-functions.html#bezier-splines"><i class="fa fa-check"></i><b>33.3</b> Bezier splines</a></li>
<li class="chapter" data-level="33.4" data-path="data-driven-functions.html"><a href="data-driven-functions.html#data-and-interpolation"><i class="fa fa-check"></i><b>33.4</b> Data and interpolation</a></li>
<li class="chapter" data-level="33.5" data-path="data-driven-functions.html"><a href="data-driven-functions.html#exploring-interpolation"><i class="fa fa-check"></i><b>33.5</b> Exploring interpolation</a></li>
<li class="chapter" data-level="33.6" data-path="data-driven-functions.html"><a href="data-driven-functions.html#chasing-squirrels"><i class="fa fa-check"></i><b>33.6</b> Chasing squirrels</a></li>
<li class="chapter" data-level="33.7" data-path="data-driven-functions.html"><a href="data-driven-functions.html#cing-smoothness"><i class="fa fa-check"></i><b>33.7</b> C’ing smoothness</a></li>
<li class="chapter" data-level="33.8" data-path="data-driven-functions.html"><a href="data-driven-functions.html#cubic-spline-smooth"><i class="fa fa-check"></i><b>33.8</b> Cubic spline … smooth!</a></li>
<li class="chapter" data-level="33.9" data-path="data-driven-functions.html"><a href="data-driven-functions.html#exercises-1"><i class="fa fa-check"></i><b>33.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="future-value.html"><a href="future-value.html"><i class="fa fa-check"></i><b>34</b> Future value</a></li>
<li class="chapter" data-level="35" data-path="towards-an-optimum.html"><a href="towards-an-optimum.html"><i class="fa fa-check"></i><b>35</b> Towards an optimum</a></li>
<li class="chapter" data-level="36" data-path="solving-and-inverting.html"><a href="solving-and-inverting.html"><i class="fa fa-check"></i><b>36</b> Solving and inverting</a></li>
<li class="chapter" data-level="37" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>37</b> Probability</a>
<ul>
<li class="chapter" data-level="37.1" data-path="probability.html"><a href="probability.html#uncertainty-and-risk"><i class="fa fa-check"></i><b>37.1</b> Uncertainty and risk</a></li>
<li class="chapter" data-level="37.2" data-path="probability.html"><a href="probability.html#quantifying-uncertainty"><i class="fa fa-check"></i><b>37.2</b> Quantifying uncertainty</a></li>
<li class="chapter" data-level="37.3" data-path="probability.html"><a href="probability.html#probability-density"><i class="fa fa-check"></i><b>37.3</b> Probability density</a></li>
<li class="chapter" data-level="37.4" data-path="probability.html"><a href="probability.html#the-cumulative-distribution"><i class="fa fa-check"></i><b>37.4</b> The cumulative distribution</a></li>
<li class="chapter" data-level="37.5" data-path="probability.html"><a href="probability.html#uniform-gaussian-exponential"><i class="fa fa-check"></i><b>37.5</b> Uniform, gaussian, exponential</a></li>
<li class="chapter" data-level="37.6" data-path="probability.html"><a href="probability.html#the-expectation-value"><i class="fa fa-check"></i><b>37.6</b> The expectation value</a></li>
<li class="chapter" data-level="37.7" data-path="probability.html"><a href="probability.html#gaussian-and-sigmoid"><i class="fa fa-check"></i><b>37.7</b> Gaussian and sigmoid</a></li>
<li class="chapter" data-level="37.8" data-path="probability.html"><a href="probability.html#the-variance"><i class="fa fa-check"></i><b>37.8</b> The variance</a></li>
<li class="chapter" data-level="37.9" data-path="probability.html"><a href="probability.html#earthquake-preparedness"><i class="fa fa-check"></i><b>37.9</b> Earthquake preparedness</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="expectation.html"><a href="expectation.html"><i class="fa fa-check"></i><b>38</b> Expectation</a>
<ul>
<li class="chapter" data-level="38.1" data-path="expectation.html"><a href="expectation.html#expected-social-security"><i class="fa fa-check"></i><b>38.1</b> Expected Social Security</a></li>
<li class="chapter" data-level="38.2" data-path="expectation.html"><a href="expectation.html#life-expectancy"><i class="fa fa-check"></i><b>38.2</b> Life expectancy</a></li>
<li class="chapter" data-level="38.3" data-path="expectation.html"><a href="expectation.html#misunderstanding-life-expectancy"><i class="fa fa-check"></i><b>38.3</b> Misunderstanding life expectancy</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="random-walks.html"><a href="random-walks.html"><i class="fa fa-check"></i><b>39</b> Random walks</a>
<ul>
<li class="chapter" data-level="39.1" data-path="random-walks.html"><a href="random-walks.html#objectives"><i class="fa fa-check"></i><b>39.1</b> Objectives</a></li>
<li class="chapter" data-level="39.2" data-path="random-walks.html"><a href="random-walks.html#the-gaussian"><i class="fa fa-check"></i><b>39.2</b> The gaussian</a></li>
<li class="chapter" data-level="39.3" data-path="random-walks.html"><a href="random-walks.html#flux"><i class="fa fa-check"></i><b>39.3</b> Flux</a></li>
<li class="chapter" data-level="39.4" data-path="random-walks.html"><a href="random-walks.html#diffusion"><i class="fa fa-check"></i><b>39.4</b> Diffusion</a></li>
<li class="chapter" data-level="39.5" data-path="random-walks.html"><a href="random-walks.html#variance-dynamics"><i class="fa fa-check"></i><b>39.5</b> Variance dynamics</a></li>
<li class="chapter" data-level="39.6" data-path="random-walks.html"><a href="random-walks.html#random-walk"><i class="fa fa-check"></i><b>39.6</b> Random walk</a></li>
<li class="chapter" data-level="39.7" data-path="random-walks.html"><a href="random-walks.html#mean-square"><i class="fa fa-check"></i><b>39.7</b> Mean square</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="differential-modeling.html"><a href="differential-modeling.html"><i class="fa fa-check"></i><b>40</b> Differential modeling</a></li>
<li class="chapter" data-level="41" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html"><i class="fa fa-check"></i><b>41</b> Constraints and optimization</a>
<ul>
<li class="chapter" data-level="41.1" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#optimization-or-design"><i class="fa fa-check"></i><b>41.1</b> Optimization or design?</a></li>
<li class="chapter" data-level="41.2" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#constraints-graphically"><i class="fa fa-check"></i><b>41.2</b> Constraints graphically</a></li>
<li class="chapter" data-level="41.3" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#multiple-constraints"><i class="fa fa-check"></i><b>41.3</b> Multiple constraints</a></li>
<li class="chapter" data-level="41.4" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#changing-constraints"><i class="fa fa-check"></i><b>41.4</b> Changing constraints</a></li>
<li class="chapter" data-level="41.5" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#incommensurate-objectives"><i class="fa fa-check"></i><b>41.5</b> Incommensurate objectives</a></li>
<li class="chapter" data-level="41.6" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#multiple-objectives"><i class="fa fa-check"></i><b>41.6</b> Multiple objectives</a></li>
<li class="chapter" data-level="41.7" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#multi-objective-decision-making"><i class="fa fa-check"></i><b>41.7</b> Multi-objective decision making</a></li>
<li class="chapter" data-level="41.8" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#commensurate-and-incommensurate"><i class="fa fa-check"></i><b>41.8</b> Commensurate and incommensurate</a></li>
<li class="chapter" data-level="41.9" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#multiple-objectives-1"><i class="fa fa-check"></i><b>41.9</b> Multiple objectives</a></li>
<li class="chapter" data-level="41.10" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#yours-and-mine"><i class="fa fa-check"></i><b>41.10</b> Yours and mine</a></li>
<li class="chapter" data-level="41.11" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#follow-the-gradient"><i class="fa fa-check"></i><b>41.11</b> Follow the gradient!</a>
<ul>
<li class="chapter" data-level="41.11.1" data-path="constraints-and-optimization.html"><a href="constraints-and-optimization.html#more-about-qalys-exercise"><i class="fa fa-check"></i><b>41.11.1</b> More about QALY’s: Exercise??</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="42" data-path="tukeys-ladder.html"><a href="tukeys-ladder.html"><i class="fa fa-check"></i><b>42</b> Tukey’s ladder</a>
<ul>
<li class="chapter" data-level="42.1" data-path="tukeys-ladder.html"><a href="tukeys-ladder.html#classifiers-and-logistic-modeling"><i class="fa fa-check"></i><b>42.1</b> Classifiers and logistic modeling</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="probability" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 37</span> Probability</h1>
<div id="uncertainty-and-risk" class="section level2" number="6.1">
<h2><span class="header-section-number">37.1</span> Uncertainty and risk</h2>
<p><strong><em>Uncertainty</em></strong> is a familiar element of human affairs. We often have views about what is likely to happen and what is possible but unlikely, but we don’t know for certain. <strong><em>Risk</em></strong> is the exposure to harm or danger if things don’t turn out the way we would like. Our generally negative view of the uncertain is revealed by the lack of a positive equivalent to risk: what we might <strong><em>gain</em></strong> if things don’t turn out the way we expect. This chapter is about the <strong><em>quantification</em></strong> of uncertainty, risk, and gain.</p>
<p>To many people, quantifying the uncertain is a contradiction in terms. Numbers are certain, definite, and behave reliably, so how can we assign a number to uncertainty? Yet doing so has become one of the standard tools of decision-making in the modern era, an essential component of the extraction of information from data, and even an irreducible part of the description of motion at the quantum scale of atoms, electrons, photons and the other wave/particles of modern physics.</p>
<p>Quantifying uncertainty has much in common with the 17th-century problems of quantifying motion that inspired calculus. The mathematical study of uncertainty has its roots in the same enlightenment era as calculus, the foundations being laid in the work of <a href="https://en.wikipedia.org/wiki/Blaise_Pascal">Blaise Pascal</a> (1623–1662) a near contemporary of Leibniz and Newton.</p>
<p>Whereas the motivation for calculus was physical movement, the mathematical study of uncertainty was grounded originally in games of chance: gambling. But just as calculus soon became relevant to all sorts of non-physics problems, the recognition that uncertainty is susceptible to calculation quickly expanded beyond the gambling den and is now the basis for medical decision making, finance, and statistics.</p>
</div>
<div id="quantifying-uncertainty" class="section level2" number="6.2">
<h2><span class="header-section-number">37.2</span> Quantifying uncertainty</h2>
<p>Note: <em>This section introduces some new technical words, such as “probability,” “variance,” “state space,” and “cumulative” that are broadly important in quantitative work but not traditionally considered part of calculus. Try to understand what these words mean. That will help you in your later studies in downstream courses.</em> <span style="float: right; padding-left: 50px;"><a name="4520" href="#4520"><img src="www/icons8-signpost.png" title="Location: 4520" width="12px"/></a><span style="color: red; font-size: 6pt;">4520</red></span></p>
<p>Uncertainty is the state of being unreliable or undetermined. Probability is—in modern usage—a way of quantifying uncertainty, of putting uncertainty on a scale. Before the modern era, probability was a kind of opposite to uncertainty, a state of being reliable or determined. This almost complete reversal of the definition of probability reflects the difficulty untrained people have in doing probability calculations correctly. <span style="float: right; padding-left: 50px;"><a name="4525" href="#4525"><img src="www/icons8-signpost.png" title="Location: 4525" width="12px"/></a><span style="color: red; font-size: 6pt;">4525</red></span></p>
<p>In the abstract mathematical formulation of probability, central components are the “event” and the “state space.” An event is something that happens, think of one flip of a coin as an event, or one frame in bowling, or the wind speed at a particular instant. The state space is the set of <strong>all</strong> possible outcomes of an event. The state space of a coin flip is famously heads or tails. The state space of a frame in bowling is the numbers 0 through 10 reflecting the number of pins bowled over. (We’re ignoring “strikes” here.) The state space of wind speed is a non-negative number as might be read off of an anemometer. <span style="float: right; padding-left: 50px;"><a name="4530" href="#4530"><img src="www/icons8-signpost.png" title="Location: 4530" width="12px"/></a><span style="color: red; font-size: 6pt;">4530</red></span></p>
<p>A probability is a number assigned to an element of a state space. For instance, in a coin flip, the number 1/2 is conventionally assigned to each of the possible outcomes: heads or tails. There are two essential properties that these assigned numbers must have to be valid probabilities: <span style="float: right; padding-left: 50px;"><a name="4535" href="#4535"><img src="www/icons8-signpost.png" title="Location: 4535" width="12px"/></a><span style="color: red; font-size: 6pt;">4535</red></span></p>
<ol style="list-style-type: decimal">
<li>the number must be between zero and one (inclusive). You can’t have a probability of -0.2 or 13.</li>
<li>added up across all the elements of a state space, the probability numbers must sum to 1.</li>
</ol>
<p>The probability number 0 is assigned to elements of the state space that need not have been listed in the first place, because they <em>cannot happen</em>.</p>
<p>The probability number 1 is assigned to a single element of the state space that is inevitable.</p>
<p>Other than the possibly unfamiliar formal vocabulary used in the preceding, the statements (1) and (2) are intuitive to many people. What might calculus have to contribute?</p>
<p>This course being calculus, we are concerned particularly with quantities that are continuous, e.g. the location of a point on the number line, the weight of a bucket after it’s been rained on, etc. For a continuous quantity, the state space will be the number line <span class="math inline">\(-\infty &lt; x &lt; \infty\)</span> or some finite segments of the number line, e.g. <span class="math inline">\(0 \leq x \leq 1\)</span>. Either way, the state space consists of an <em>infinite number</em> of possible values. For example, one member of the <span class="math inline">\(0 \leq x \leq 1\)</span> state space is 0.963012894848362656100076390430914821056649089340673461090773. Another is 0.4204042488709096655207811854786639390334021305202371464110919373058862984183853728834073997986972243. Still others are <span class="math inline">\(1/\sqrt{2}\)</span> and <span class="math inline">\(1/\pi\)</span> and <span class="math inline">\(1/e\)</span> and on and on without end. <span style="float: right; padding-left: 50px;"><a name="4540" href="#4540"><img src="www/icons8-signpost.png" title="Location: 4540" width="12px"/></a><span style="color: red; font-size: 6pt;">4540</red></span></p>
<p>To get started with , use a <a href="https://maa-statprep.shinyapps.io/CalcZ-Sandbox/">SANDBOX</a> to run the R command shown below:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="probability.html#cb53-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb53-2"><a href="probability.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">runif</span>(n)</span>
<span id="cb53-3"><a href="probability.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">runif</span>(n) <span class="sc">==</span> <span class="fl">0.3</span></span>
<span id="cb53-4"><a href="probability.html#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">runif</span>(n) <span class="sc">==</span> <span class="fl">0.3</span>)</span></code></pre></div>
<p>The first line is merely setting up the next three lines, giving a small integer value to <code>n</code>. The command <code>runif(n)</code> then generates <code>n</code> random numbers, each guaranteed to be between 0 and 1. The third line, <code>runif(n) == 0.3</code> generates more random numbers, but rather than printing them out first checks to see if any of them are equal to 0.3. The answer <code>FALSE</code> means that the random number is not 0.3. (Perhaps that’s not a surprise, with only five random 0-1 numbers.)</p>
<p>The last line, <code>sum(runif(n) == 0.3)</code> does a quick calculation to see if any of the <code>n</code> random numbers equals 0.3. The result, 0, means that none of them did. Of course, you can easily see this by examining the output from <code>runif(n) == 0.3</code>. Automating the check in line 4 makes it possible for us to check far more than 5 random numbers.</p>
<p>For instance, you can generate a million random numbers and instantly check if any of them match 0.3 with the command</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="probability.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">runif</span>(<span class="dv">1000000</span>) <span class="sc">==</span> <span class="fl">0.3</span>)</span></code></pre></div>
<p>As numbers between 0 and 1 go, 0.3 is perfectly ordinary. Yet there are so many numbers between 0 and 1 (even in computer arithmetic), that the probability of generating exactly 0.3 is nil. The same goes for any other number that you might use to replace 0.3. Remarkably, even if you specify one of the numbers previously generated, say 0.37219838, the probability is nil that it will ever be generated again (at least, if your computer has not been forced to do so by some programming magic).</p>
</div>
<div id="probability-density" class="section level2" number="6.3">
<h2><span class="header-section-number">37.3</span> Probability density</h2>
<p>Given the result from the “randomly hit the target” experiment, it would be reasonable to conclude that <code>runif(5)</code> picks numbers each of which has a probability of 0. It would be better to say that the probability is <em>infinitesimal</em>, just like the <span class="math inline">\(h\)</span> in the definition of the derivative or the <span class="math inline">\(dx\)</span> in the way we write integrals.</p>
<p>Calculus provides the means to assign such infinitesimal probabilities to the elements of a continuous state space. The strategy is this:</p>
<ol style="list-style-type: decimal">
<li>Assign a <strong>function</strong> whose output, over the state space, is never negative.</li>
<li>Ensure that, over the state space, e.g. for <span class="math inline">\(x\)</span> in the interval <span class="math inline">\(a \leq x \leq b\)</span> that <span class="math display">\[\int_a^b\! f(x) dx = 1\]</span></li>
</ol>
<p>Such functions are called <strong><em>probability density functions</em></strong>. Here’s one probability density function:</p>
<p><span class="math display">\[\text{uniform} (x) \equiv \left\{\begin{array}{cl}\frac{1}{b-a} &amp; \text{when} \ a \leq x \leq b\\0&amp;\text{otherwise} \end{array}\right.\]</span>
Consider a question like, “What’s the probability that the outcome of an event governed by the uniform probability density will be <span class="math inline">\(c\)</span>?”</p>
<p>The answer is <strong>not</strong> <span class="math inline">\(f(c)\)</span>. Neither is it <span class="math inline">\(f(c) dx\)</span>.</p>
<p>Instead, the answer is <span class="math inline">\(\int_c^c f(x) dx = 0\)</span>.</p>
<p>Many non-mathematicians might answer the question by saying that the probability is <span class="math inline">\(f(c) dx\)</span>. There’s something tempting about that answer, but remember that <span class="math inline">\(dx\)</span> is a notation meaning “take the limit as it goes to zero,” <span class="math inline">\(f(c)dx\)</span> is a limit rather than a number. (Save yourself from trying to sort this out with a shortcut: <span class="math inline">\(f(c) dx\)</span> isn’t a number. But <span class="math inline">\(\int_c^c f(x) dx\)</span> is a number, namely 0.) <span style="float: right; padding-left: 50px;"><a name="4595" href="#4595"><img src="www/icons8-signpost.png" title="Location: 4595" width="12px"/></a><span style="color: red; font-size: 6pt;">4595</red></span></p>
<p><span class="math inline">\(f(c)\)</span> is much like the concept of “density.” We can meaningfully say that a material has a <em>density</em> at each point. But it’s not useful to say that a material has a <em>mass</em> at each point. The <em>mass</em> of a material is the integral of the density over the space occupied by the material. <span style="float: right; padding-left: 50px;"><a name="4600" href="#4600"><img src="www/icons8-signpost.png" title="Location: 4600" width="12px"/></a><span style="color: red; font-size: 6pt;">4600</red></span></p>
<p>The probability density function is a helpful way of visualizing the possible outcomes of an event. By looking at a graph of the density function, you can see which outcomes are relatively likely and which are not. <span style="float: right; padding-left: 50px;"><a name="4665" href="#4665"><img src="www/icons8-signpost.png" title="Location: 4665" width="12px"/></a><span style="color: red; font-size: 6pt;">4665</red></span></p>
<p>For instance, here is a probability density function called an “exponential density.” <span class="math display">\[p(t) \equiv k\, e^{-t/k}\]</span>
Exponential densities are often used to model things like the time between earthquakes or the time between engine failures. As an example, if <span class="math inline">\(t\)</span> is measured in years and <span class="math inline">\(k=1/100\)</span>, the exponential density is the standard model of the time between consecutive 100-year storms at a location. <span style="float: right; padding-left: 50px;"><a name="4670" href="#4670"><img src="www/icons8-signpost.png" title="Location: 4670" width="12px"/></a><span style="color: red; font-size: 6pt;">4670</red></span></p>
<p><img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-34-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Notice that the probability density is zero for negative time. That’s just common sense at work; the time between consecutive storms can’t be negative. Perhaps more surprisingly, there’s a substantially non-zero probability density for the time between storms being just 10 years, or even less! And notice the very small numbers on the y-axis; the density is much less than 1. But that’s OK, because a probability density is not the same as a probability. <span style="float: right; padding-left: 50px;"><a name="4675" href="#4675"><img src="www/icons8-signpost.png" title="Location: 4675" width="12px"/></a><span style="color: red; font-size: 6pt;">4675</red></span></p>
<p><strong>Question N</strong> How much probability corresponds to one small gray square of area in the graph?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">1<span class="mcanswer">︎✘ pick a gray box, what are its dimensions?</span></span><br />
</li>
<li><span class="Zchoice">.0625<span class="mcanswer">Right! that is 6.25%</span></span><br />
</li>
<li><span class="Zchoice">.125<span class="mcanswer">︎✘ pick a gray box, what are its dimensions?</span></span><br />
</li>
<li><span class="Zchoice">.25<span class="mcanswer">︎✘ This is four gray boxes, not one and 25%</span></span></li>
</ol>
<p><strong>Question O</strong> Using your answer from the previous question, estimate the probability (by counting gray boxes) of the time between 100 year storms being 50 years or less?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">1<span class="mcanswer">︎✘ your bounds for t are between 0 and 50 years</span></span><br />
</li>
<li><span class="Zchoice">.0039<span class="mcanswer">︎✘ This answer is not a percent</span></span><br />
</li>
<li><span class="Zchoice">39%<span class="mcanswer">Right! Correct. If you think this answer is counter-intuitive, that there is an almost 40% chance of the interval between 100 year storms being less than 50 years, you can appreciate why it’s important to hand probabilities quantitatively rather than intuitively.</span></span><br />
</li>
<li><span class="Zchoice">.25<span class="mcanswer">︎✘ your bounds for t are between 0 and 50 years</span></span></li>
</ol>
</div>
<div id="the-cumulative-distribution" class="section level2" number="6.4">
<h2><span class="header-section-number">37.4</span> The cumulative distribution</h2>
<p>The <strong>cumulative</strong> distribution translates the probability density into an actual probability (a number between zero and one). Formally, the cumulative distribution is <span class="math display">\[P(t) \equiv \int_{-\infty}^t p(t) dt\]</span> <span style="float: right; padding-left: 50px;"><a name="4680" href="#4680"><img src="www/icons8-signpost.png" title="Location: 4680" width="12px"/></a><span style="color: red; font-size: 6pt;">4680</red></span></p>
<p>Evaluating <span class="math inline">\(P(t)\)</span> at given value of <span class="math inline">\(t\)</span> gives a probability. For instance, <span class="math inline">\(P(10) \approx 0.095\)</span>, roughly 10%. In terms of storms, this means that according to the standard model of these things, the time between consequtive 100-year storms has a 10% chance of being 10 years or less! <span style="float: right; padding-left: 50px;"><a name="4685" href="#4685"><img src="www/icons8-signpost.png" title="Location: 4685" width="12px"/></a><span style="color: red; font-size: 6pt;">4685</red></span></p>
<p>A graph of the <strong>cumulative</strong> distribution shows what you might have anticipated: the gaussian function <span class="math inline">\(p(t)\)</span> has an integral that is a sigmoid function.</p>
<p><img src="MOSAIC-Calculus_files/figure-html/unnamed-chunk-35-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p><strong>Question P</strong> Imagine that a 100-year storm has just happened at your location. What is the probability that the next 100-year storm will happen within 50 years?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice">11%<span class="mcanswer">︎✘ What’s the value of <span class="math inline">\(P(t=50)\)</span></span></span><br />
</li>
<li><span class="Zchoice">27%<span class="mcanswer">︎✘ What’s the value of <span class="math inline">\(P(t=50)\)</span></span></span><br />
</li>
<li><span class="Zchoice">39%<span class="mcanswer">Right! </span></span><br />
</li>
<li><span class="Zchoice">51%<span class="mcanswer">︎✘ What’s the value of <span class="math inline">\(P(t=50)\)</span></span></span></li>
</ol>
<p><strong>Question Q</strong> The <em>median</em> time between 100-year storms is the value where there is a 50% probability that consecutive storms will happen closer in time than this value and 50% that consecutive storms will happen further apart than this value. What is the <em>median</em> time between 100-year storms, according to the standard model? (Hint: You can read this off the graph.)</p>
<p>    <span class="Zchoice">about 30 years<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">50 years<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">about 70 years<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">100 years<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">about 130 years<span class="mcanswer">︎✘ </span></span></p>
</div>
<div id="uniform-gaussian-exponential" class="section level2" number="6.5">
<h2><span class="header-section-number">37.5</span> Uniform, gaussian, exponential</h2>
<p>Three important densities.</p>
</div>
<div id="the-expectation-value" class="section level2" number="6.6">
<h2><span class="header-section-number">37.6</span> The expectation value</h2>
<p>The <em>expectation value</em> is an important way to summarize a probability density function. It can be a valuable way to inform decisions, a topic we’ll save for another day. Here, we’ll focus on the calculation of the expectation value itself. <span style="float: right; padding-left: 50px;"><a name="4690" href="#4690"><img src="www/icons8-signpost.png" title="Location: 4690" width="12px"/></a><span style="color: red; font-size: 6pt;">4690</red></span></p>
<p>Expectation values are useful, for example, in deciding whether to make an investment. Suppose you have been offered a “ground floor” opportunity in a start-up company. The statistics of start-ups show that 50% fail in their first year and another 50% of the survivors fail each year after that. You’ll have to forego salary, but you will be given stock options. You think, after 5 years, if the company gets that far, the options will be worth $5M. Should you take the job, instead of, say, a job paying $50K/year with a long-established company? Your simple model is that there is a 1/32 chance that the options will come through for $5M, otherwise they will be worthless. The expectation value is $5,000,000 <span class="math inline">\(\times 1/32 =\)</span> $156,250. This is less than what you would make working for the long-established company during the 5 years. A simple form of decision-making compares the expectation value of the start-up ($156,250) with the expectation value of then $50K/year job over five years. <span style="float: right; padding-left: 50px;"><a name="4695" href="#4695"><img src="www/icons8-signpost.png" title="Location: 4695" width="12px"/></a><span style="color: red; font-size: 6pt;">4695</red></span></p>
<p>Calculus provides tools for working with more subtle models. You are working with a process where each event generates a numerical outcome according to a probability density function <span class="math inline">\(f(x)\)</span>. We collect the outcomes from many events: a series of numbers. As you know, the <em>average</em> of the numbers is often used to represent a “typical” outcome, a shorthand way of summarizing the sequence itself. <span style="float: right; padding-left: 50px;"><a name="4700" href="#4700"><img src="www/icons8-signpost.png" title="Location: 4700" width="12px"/></a><span style="color: red; font-size: 6pt;">4700</red></span></p>
<p>The expectation value is the value we would get for the average if we could construct an infinitely long series of events. “Infinitely long series” is an imaginary, theoretical construct. But calculus provides a way to simulate an infinitely long series. The expectation value corresponding to a probability density function <span class="math inline">\(f(x)\)</span> is an integral:
<span class="math display">\[\int_{-\infty}^\infty x \cdot f(x) dx\]</span></p>
<p>Expectation of a uniform 0-1 distribution</p>
<p><strong>Question R</strong> Recall that a <em>uniform</em> probability density is one that generates outcomes equally likely to be any number between specified lower and upper bounds. For the uniform density between <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>, the probability density function <span class="math display">\[\text{uniform} (x) \equiv \left\{\begin{array}{cl}\frac{1}{b-a} &amp; \text{when} \ \ a \leq x \leq b\\0&amp;\text{otherwise} \end{array}\right.\]</span> What is the expectation value of uniform(x), that is, what is <span class="math display">\[\int_{-\infty}^{\infty} x\ \text{uniform}(x) dx \text{?}\]</span> Hint: you really only need to consider <span class="math display">\[\int_a^b x\ \text{uniform}(x) dx\]</span>, since <span class="math display">\[\int_{-\infty}^a \text{uniform}(x) dx=\int_b^{-\infty} \text{uniform}(x) dx=0\]</span></p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice"><span class="math inline">\((b-a)/3\)</span><span class="mcanswer">︎✘ The anti-derivative of <span class="math inline">\(x \cdot\)</span> uniform<span class="math inline">\((x)\)</span> is <span class="math display">\[\frac{1}{2}\frac{1}{b-a} x^2\]</span>.</span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\((a + b)/2\)</span><span class="mcanswer">Excellent! </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(\sqrt{a^2 + b^2}\)</span><span class="mcanswer">︎✘ The anti-derivative of <span class="math inline">\(x \cdot\)</span> uniform<span class="math inline">\((x)\)</span> is <span class="math display">\[\frac{1}{2}\frac{1}{b-a} x^2\]</span>.</span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\((a-b)/2\)</span><span class="mcanswer">︎✘ Remember that <span class="math inline">\(b^2 - a^2 = (b+a)(b-a)\)</span></span></span><br />
</li>
<li><span class="Zchoice">It involves <span class="math inline">\(\infty\)</span>.<span class="mcanswer">︎✘ I think you’re plugging <span class="math inline">\(\pm \infty\)</span> as the bounds of the definite integral. But remember that <span class="math inline">\(\text{uniform}(x &lt; a) = \text{uniform}(b &lt; x) = 0.\)</span></span></span></li>
</ol>
<p>The sandbox below gives the probability density function for the exponential process used in the example of the time interval between successive 100 year storms. Your task is to compute the expectation value for the time between storms. In symbols, this is <span class="math display">\[\int_{-\infty}^\infty t\times p(t)\, dt\]</span> You can use <code>antiD()</code> to find the antiderivative and <code>Inf</code> to stand for infinity. <span style="float: right; padding-left: 50px;"><a name="4705" href="#4705"><img src="www/icons8-signpost.png" title="Location: 4705" width="12px"/></a><span style="color: red; font-size: 6pt;">4705</red></span></p>
<div class="sandbox">
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="probability.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># probability density</span></span>
<span id="cb55-2"><a href="probability.html#cb55-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">makeFun</span>(<span class="fu">ifelse</span>(t <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="fu">exp</span>(<span class="sc">-</span>t<span class="sc">/</span><span class="dv">100</span>)<span class="sc">/</span><span class="dv">100</span>) <span class="sc">~</span> t)</span>
<span id="cb55-3"><a href="probability.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For the expectation value, we want to integrate t*p(t) </span></span>
<span id="cb55-4"><a href="probability.html#cb55-4" aria-hidden="true" tabindex="-1"></a>F <span class="ot">&lt;-</span> <span class="fu">antiD</span>(...integrand... <span class="sc">~</span> t)</span>
<span id="cb55-5"><a href="probability.html#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluate</span></span>
<span id="cb55-6"><a href="probability.html#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="fu">F</span>(...upper...) <span class="sc">-</span> <span class="fu">F</span>(...lower...)</span></code></pre></div>
</div>
</div>
<div id="gaussian-and-sigmoid" class="section level2" number="6.7">
<h2><span class="header-section-number">37.7</span> Gaussian and sigmoid</h2>
<p>Demonstration that gaussian is common, because adding up lots of events, produces a gaussian distribution.</p>
<p>Show that expectation values add.</p>
</div>
<div id="the-variance" class="section level2" number="6.8">
<h2><span class="header-section-number">37.8</span> The variance</h2>
<p>Computing the variance. Variances add.</p>
</div>
<div id="earthquake-preparedness" class="section level2" number="6.9">
<h2><span class="header-section-number">37.9</span> Earthquake preparedness</h2>
<p>We have records of large earthquakes going back 1000’s of years, at least in those parts of the world that kept written records. In regions with mainly oral traditions, stories of historical earthquakes are treated with skepticism.</p>
<p>For instance, in California written records reach about 400 years into the past. Anticipating a future earthquakes is an everyday matter in California and governments in seismically active zones have prepared by means of building codes and emergency precautions. A bit further up the US West Coast, in the Cascadia region of Oregon, there is a shorter written record and, until the last 30-40 years, little realization that the <a href="https://www.oregon.gov/oem/Documents/01_ORP_Cascadia.pdf">area has been subject to profoundly powerful earthquakes</a> called “great quakes.” There are great quakes in living memory: the 2004 Boxing Day earthquake centered on Sumatra that led to the deaths of hundreds of thousands of people, and the 2011 Tohoku earthquake in Japan that killed tens of thousands and led to the meltdown of nuclear power plants in Fukashima. Both of these were magnitude 9.1. Even larger were the 1964 9.2 magnitude quake in southern Alaska and the magnitude 9.5 Valdivia earthquake in Chile in 1960. The local magnitude scale is logarithmic, so a 9.5 magnitude quake releases about 3 times the energy of a 9.1 magnitude quake.</p>
<p>This exercise explores a model to inform the extent to which it’s worth preparing for such quakes in order to prevent material damage. The risk to life is another important matter. But feasible investments in the build environment can minimize the direct impact of earthquakes to human life. Tsunamis generated by quakes are another matter, for which the only effective mitigating precautions are the development of evacuation routes and procedures and relocation of building away from the affected zone.</p>
<p>Let’s imagine a situation in which $100 spent in precautions such as strengthening building construction would generate $1000 in savings in the event of a major earthquake. (This ratio is made up for demonstration purposes, but you can easily substitute a better substantiated estimate.) From a societal point of view, many people would see the investment as clearly worthwhile. But we’re going to take a more technical point of view that incorporates two factors:</p>
<ul>
<li>The $100 is to be spent today, while the $1000 savings will occur in the future. This can be handled by simple discounting.</li>
<li>The time until the earthquake is unknown, although reasonable probability models are available.</li>
</ul>
<p>The time of the last great Cascadia Zone earthquake is known with surprising precision: January 26, 1700. Before this, dates are estimated from geologic evidence. The figure shows the known history of Cascadia Zone earthquakes. <a href="https://www.oregon.gov/oem/Documents/01_ORP_Cascadia.pdf">Source</a></p>
<p><img src="www/earthquake-timeline.png" width="90%" style="display: block; margin: auto;" /></p>
<p>A standard model for the interval between earthquakes of a given magnitude is the exponential distribution. For the great quakes in the Cascadia Zone, the average interval between consecutive quakes is about 300 years and the corresponding exponential probability distribution is <span class="math display">\[\frac{e^{t/300}}{300}\]</span> The sandbox is set up to make a graph of this distribution and enables other calculations you will need later.</p>
<p>As shown by the definite integral already coded in the sandbox, the total probability of an earthquake at some point in the future is, according to the model, 100%. So this is a model of <em>when</em> an earthquake will occur, not <em>whether</em> one will occur.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="probability.html#cb56-1" aria-hidden="true" tabindex="-1"></a>prob <span class="ot">&lt;-</span> <span class="fu">makeFun</span>(<span class="fu">exp</span>(<span class="sc">-</span>t<span class="sc">/</span><span class="dv">300</span>)<span class="sc">/</span><span class="dv">300</span> <span class="sc">~</span> t)</span>
<span id="cb56-2"><a href="probability.html#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_plot</span>(<span class="fu">prob</span>(t) <span class="sc">~</span> t, <span class="fu">domain</span>(<span class="at">t =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1000</span>)))</span>
<span id="cb56-3"><a href="probability.html#cb56-3" aria-hidden="true" tabindex="-1"></a>Prob <span class="ot">&lt;-</span> <span class="fu">antiD</span>(<span class="fu">prob</span>(t)<span class="sc">~</span> t)</span>
<span id="cb56-4"><a href="probability.html#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="fu">Prob</span>(<span class="cn">Inf</span>) <span class="sc">-</span> <span class="fu">Prob</span>(<span class="dv">0</span>)</span></code></pre></div>
<p>Almost everyone who meets the exponential probability model is surprised that the density is highest at time <span class="math inline">\(t=0^+\)</span>, that is, immediately after the previous quake.</p>
<p><strong>Question S</strong> By using the appropriate definite integral, find the probability for earthquakes separated on average by 300 years (this essentially means using the provided model in the code) that the actual interval from the last quake will be less than 30 years. Which percentage is closest?</p>
<p>    <span class="Zchoice">2%<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">10%<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">20%<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">25%<span class="mcanswer">︎✘ </span></span></p>
<p><strong>Question T</strong> Similarly to the previous question, find the probability that the actual interval from the last quake will be more than 500 years. (Hint: Be thoughful about what the limits of integration will be.)</p>
<p>    <span class="Zchoice">2%<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">10%<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">20%<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">25%<span class="mcanswer">︎✘ </span></span></p>
<p>An astounding and counter-intuitive aspect of the exponential model is that the same probability density describes the time from <strong>now</strong> to the eventual earthquake. In other words, it doesn’t matter how long it’s been since the last earthquake.</p>
<p>Now let’s put together our model of the net present value of an expenditure on earthquake preparedness. As you recall, the net present value of <span class="math inline">\(\$10\)</span> to be paid <span class="math inline">\(t\)</span> years from the present is <span class="math inline">\(10 e^{-r t}\)</span>, where <span class="math inline">\(r\)</span> is the continuously compounded interest rate. For the example, we’ll set <span class="math inline">\(r=7.8\%\)</span>, as we did in the Powerball example.</p>
<p>Of course <span class="math inline">\(t\)</span> is uncertain, so there’s no definite answer for the net present value of earthquake preparedness. However, since we have a model of the probability of the earthquake occuring as a function of the interval <span class="math inline">\(t\)</span>, we can find the <strong>expectation value</strong> of the net present value of earthquake preparedness.</p>
<p>For continuous probability densities (such as the exponential earthquake interval model) an expectation value is the definite integral over all possibilities of the probability density times the eventual outcome.</p>
<p><strong>Question U</strong> Using the information presented above about the probability density function and the net present value, which of the following is appropriate for calculation of the net present value of $10 spent today for earthquake preparedness?</p>
<ol style="list-style-type: lower-roman">
<li><span class="Zchoice"><span class="math inline">\(\frac{100}{300} \int_{0}^{\infty} e^{-0.078 t} e^{-t/300}dt\)</span><span class="mcanswer">Nice! </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(\frac{10}{300} \int_{0}^{\infty} e^{-1.078 t} e^{-t/300}dt\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(100 \int_{0}^{300} e^{-1.078 t} e^{-t/300}dt\)</span><span class="mcanswer">︎✘ </span></span><br />
</li>
<li><span class="Zchoice"><span class="math inline">\(\frac{100}{300} \int_{0}^{\infty} e^{-7.8 t} e^{-t/300}dt\)</span><span class="mcanswer">︎✘ </span></span></li>
</ol>
<p>The integral gives only the net present value of the eventual benefit of earthquake preparedness. If this is larger than today’s expenditure, the expenditure is economically worthwhile.</p>
<p><strong>Question V</strong> What is the numerical value (in dollars) of the correct integral from the previous question?</p>
<p>    <span class="Zchoice">0.43<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">4.10<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">14.80<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">34.50<span class="mcanswer">︎✘ </span></span></p>
<p>We used an average time between earthquakes of 300 years, as seem appropriate for the Cascadia Zone earthquake history. The net present value of the eventual reduction in damages was small, too small to justify the expenditure on economic grounds.</p>
<p>Modify the code in the above sandbox to perform the calculation for different earthquakes, say with an average interval of 50 years or 100 years.</p>
<p><strong>Question W</strong> What’s the longest average interval that generates a net present value of the damage reduction of <span class="math inline">\(\$10\)</span>, enough to justify the expenditure? Pick the closest one. (Hint: You can try out expectation value integral using the average intervals given as choices in place of the 300-year interval originally used.)</p>
<p>    <span class="Zchoice">25 years<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">50 years<span class="mcanswer"><span class="math inline">\(\heartsuit\ \)</span></span></span>       <span class="Zchoice">100 years<span class="mcanswer">︎✘ </span></span>       <span class="Zchoice">150 years<span class="mcanswer">︎✘ </span></span></p>
<p>WARNING. You should not come away from this exercise with the idea that <span class="math inline">\(r = 0.078\)</span> is the “right” discount rate. We used that rate in this exercise only because there is documented evidence that some group of people—the sorts of investors who buy 30-year TIPS—currently act as if that were their discount rate. An individual is entitled to set his or her own discount rate based on any rationale whatsoever. (That said, the interest rate you could make long term on an investment readily available to you can reasonably be taken as the baseline.)</p>
<p>When it comes to groups of people, the appropriate discount rate becomes a matter of opinion and disagreement. In particular, there is a concept called the <a href="https://en.wikipedia.org/wiki/Social_discount_rate">“social discount rate”</a>. Regretably, there is no clear basis for picking this other than to put it in the range 0 to about 7%. Net present value is therefore a dubious criterion for making decisions whose impact will be felt in the long term, over generations. This is the case, for instance, with global warming.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="solving-and-inverting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="expectation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dtkaplan/MOSAIC-Calculus/shared/B4-probability.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/dtkaplan/MOSAIC-Calculus/shared/B4-probability.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
},
"after": "<li><a href="../block-5/vectors.html">Block 5: Linear combinations</a></li>n<li><a href="../block-6/dynamics.html">Block 6: Dynamics</a></li>n"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
